<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arflex Salon Collection | È´òÁ¥ö„Éö„ÉÉ„Éà„Çµ„É≠„É≥</title>
    
    <!-- Arflex Design System -->
    <link rel="stylesheet" href="arflex-design.css">
    <link rel="stylesheet" href="arflex-components.css">
    
    <!-- Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-functions-compat.js"></script>
</head>

<body>
    <noscript>
        <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); display: flex; align-items: center; justify-content: center; z-index: 9999;">
            <div style="background: white; padding: 2rem; border-radius: 12px; text-align: center; max-width: 400px;">
                <h1 style="color: #1e293b; margin-bottom: 1rem;">Arflex Collection</h1>
                <p style="color: #64748b;">JavaScript is required to access this gallery.</p>
            </div>
        </div>
    </noscript>
    <!-- LOGIN SCREEN -->
    <div id="loginScreen" class="arflex-login-screen" style="display: flex;">
        <div class="arflex-login-container">
            <div class="arflex-login-header">
                <h1 class="arflex-login-title">Arflex Collection</h1>
                <p class="arflex-login-subtitle">Pet Salon Gallery Access</p>
            </div>
            
            <div class="arflex-login-form">
                <div class="arflex-auth-tabs">
                    <button class="arflex-auth-tab active" data-tab="email">Email</button>
                    <button class="arflex-auth-tab" data-tab="google">Google</button>
                </div>
                
                <div class="arflex-auth-content" id="emailAuth">
                    <form id="emailLoginForm">
                        <div class="arflex-form-group">
                            <label>Email Address</label>
                            <input type="email" id="loginEmail" required placeholder="your@email.com">
                        </div>
                        <div class="arflex-form-group">
                            <label>Password</label>
                            <input type="password" id="loginPassword" required placeholder="Password">
                        </div>
                        <button type="submit" class="arflex-btn arflex-btn-primary arflex-login-btn">
                            <i data-feather="log-in"></i>
                            Enter Gallery
                        </button>
                    </form>
                    
                    <div style="text-align: center; margin-top: var(--arflex-space-lg); padding-top: var(--arflex-space-lg); border-top: 1px solid var(--arflex-pearl);">
                        <button type="button" id="demoLoginBtn" class="arflex-btn arflex-btn-outline" style="width: 100%;">
                            <i data-feather="zap"></i>
                            Demo Login
                        </button>
                    </div>
                </div>
                
                <div class="arflex-auth-content" id="googleAuth" style="display: none;">
                    <button id="googleLoginButton" class="arflex-btn arflex-btn-outline arflex-login-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285f4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34a853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#fbbc05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#ea4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Sign in with Google
                    </button>
                </div>
                
                <div class="arflex-auth-error" id="authError" style="display: none;"></div>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT (Hidden until authenticated) -->
    <div id="mainContent" class="arflex-main-content" style="display: none; opacity: 0;">
        <!-- User Info Header -->
        <div class="arflex-user-header">
            <div class="arflex-user-info">
                <span id="userDisplayName">Loading...</span>
                <button id="logoutBtn" class="arflex-btn arflex-btn-ghost">
                    <i data-feather="log-out"></i>
                    Logout
                </button>
            </div>
        </div>
        
        <!-- ARFLEX HEADER GALLERY -->
        <div class="arflex-hero">
        <div class="arflex-hero-content">
            <div class="arflex-hero-text">
                <h1 class="arflex-hero-title">
                    Arflex Collection<br>
                    <span class="arflex-hero-subtitle">Pet Salon Gallery</span>
                </h1>
                <p class="arflex-hero-description">
                    ÈùôÂØÇ„Å™Á©∫Èñì„Åß„ÄÅÊÑõ„Åô„Çã„Éö„ÉÉ„Éà„Å®„ÅÆÁâπÂà•„Å™ÊôÇÈñì„Çí„ÄÇ<br>
                    „ÇÆ„É£„É©„É™„Éº„ÅÆ„Çà„ÅÜ„Å™Áæé„Åó„Åï„Å®„ÄÅÊúÄÈ´òÁ¥ö„ÅÆ„Çµ„Éº„Éì„Çπ„ÇíÊèê‰æõ„Åó„Åæ„Åô„ÄÇ
                </p>
            </div>
        </div>
        <div class="arflex-hero-image">
            <!-- „Åì„Åì„Å´Â§ß„Åç„Å™„Éö„ÉÉ„ÉàÂÜôÁúü„ÅåÂÖ•„Çä„Åæ„Åô -->
            <div style="width: 100%; height: 500px; background: var(--arflex-gradient-whisper); border-radius: var(--arflex-radius-lg); display: flex; align-items: center; justify-content: center; color: var(--arflex-graphite); font-size: var(--arflex-text-sm);">
                Pet Gallery Image Area
            </div>
        </div>
    </div>

    <!-- MAIN EXHIBITION SPACE -->
    <div class="arflex-container">
        
        <!-- TODAY'S EXHIBITION - Reservation Timeline -->
        <div class="arflex-editorial-section">
            <div class="arflex-editorial-header">
                <h2 class="arflex-editorial-title">Today's Exhibition</h2>
                <p class="arflex-editorial-subtitle">Êú¨Êó•„ÅÆ‰∫àÁ¥Ñ„Çπ„Ç±„Ç∏„É•„Éº„É´</p>
            </div>
            
            <div class="arflex-timeline">
                <div class="arflex-timeline-item">
                    <div class="arflex-timeline-time">
                        09:00<br>
                        <span style="font-size: var(--arflex-text-xs); color: var(--arflex-graphite);">AM</span>
                    </div>
                    <div class="arflex-timeline-content">
                        <div class="arflex-guest-profile">
                            <img src="" alt="„Éö„ÉÉ„ÉàÂÜôÁúü" class="arflex-pet-photo" style="background: linear-gradient(45deg, var(--arflex-blue-silk), var(--arflex-blue-serene));">
                            <div class="arflex-guest-info">
                                <h4>„É´„Éä„Å°„ÇÉ„Çì</h4>
                                <div class="arflex-pet-details">
                                    „Éà„Ç§„Éó„Éº„Éâ„É´„Éª3Ê≠≥„Éª„Ç™„Éº„Éä„ÉºÔºöÁî∞‰∏≠Êßò<br>
                                    „Ç∑„É£„É≥„Éó„Éº„Éª„Ç´„ÉÉ„Éà„ÉªÁà™Âàá„Çä„ÉªËÄ≥ÊéÉÈô§
                                </div>
                                <div class="arflex-service-tags">
                                    <span class="arflex-service-tag">Premium Spa</span>
                                    <span class="arflex-service-tag">Style Cut</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="arflex-timeline-status">
                        <span class="arflex-status arflex-status-confirmed">Confirmed</span>
                    </div>
                </div>

                <div class="arflex-timeline-item">
                    <div class="arflex-timeline-time">
                        10:30<br>
                        <span style="font-size: var(--arflex-text-xs); color: var(--arflex-graphite);">AM</span>
                    </div>
                    <div class="arflex-timeline-content">
                        <div class="arflex-guest-profile">
                            <img src="" alt="„Éö„ÉÉ„ÉàÂÜôÁúü" class="arflex-pet-photo" style="background: linear-gradient(45deg, var(--arflex-blue-mist), var(--arflex-blue-serene));">
                            <div class="arflex-guest-info">
                                <h4>„ÉÅ„Éß„Ç≥„Åè„Çì</h4>
                                <div class="arflex-pet-details">
                                    Êü¥Áä¨„Éª5Ê≠≥„Éª„Ç™„Éº„Éä„ÉºÔºö‰ΩêËó§Êßò<br>
                                    „Ç∑„É£„É≥„Éó„Éº„Éª„Éñ„É≠„Éº„ÉªÈÉ®ÂàÜ„Ç´„ÉÉ„Éà
                                </div>
                                <div class="arflex-service-tags">
                                    <span class="arflex-service-tag">Basic Care</span>
                                    <span class="arflex-service-tag">Nail Trim</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="arflex-timeline-status">
                        <span class="arflex-status arflex-status-progress">In Progress</span>
                    </div>
                </div>

                <div class="arflex-timeline-item">
                    <div class="arflex-timeline-time">
                        14:00<br>
                        <span style="font-size: var(--arflex-text-xs); color: var(--arflex-graphite);">PM</span>
                    </div>
                    <div class="arflex-timeline-content">
                        <div class="arflex-guest-profile">
                            <img src="" alt="„Éö„ÉÉ„ÉàÂÜôÁúü" class="arflex-pet-photo" style="background: linear-gradient(45deg, var(--arflex-blue-whisper), var(--arflex-blue-mist));">
                            <div class="arflex-guest-info">
                                <h4>„Éü„Éü„Å°„ÇÉ„Çì</h4>
                                <div class="arflex-pet-details">
                                    „Éû„É´„ÉÅ„Éº„Ç∫„Éª2Ê≠≥„Éª„Ç™„Éº„Éä„ÉºÔºöÂ±±Áî∞Êßò<br>
                                    „Éï„É´„Ç≥„Éº„Çπ„Éª„Ç¢„É≠„Éû„Éê„Çπ„ÉªÊØõÁéâÂèñ„Çä
                                </div>
                                <div class="arflex-service-tags">
                                    <span class="arflex-service-tag">Luxury Spa</span>
                                    <span class="arflex-service-tag">Aromatherapy</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="arflex-timeline-status">
                        <span class="arflex-status arflex-status-pending">Pending</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ATTENTION GALLERY -->
        <div class="arflex-editorial-section">
            <div class="arflex-editorial-header">
                <h2 class="arflex-editorial-title">Attention Gallery</h2>
                <p class="arflex-editorial-subtitle">ÁâπÂà•„Å™„Ç±„Ç¢„ÅåÂøÖË¶Å„Å™„Ç≤„Çπ„ÉàÊßò</p>
            </div>
            
            <div class="arflex-attention-grid">
                <div class="arflex-attention-card">
                    <div class="arflex-attention-header">
                        <img src="" alt="„Éö„ÉÉ„ÉàÂÜôÁúü" class="arflex-attention-photo" style="background: linear-gradient(45deg, #fbbf24, #f59e0b);">
                        <div class="arflex-attention-info">
                            <h5>„Éè„Éä„Å°„ÇÉ„Çì</h5>
                            <p class="arflex-attention-owner">„Ç¥„Éº„É´„Éá„É≥„É¨„Éà„É™„Éê„Éº„ÉªÈà¥Êú®Êßò</p>
                        </div>
                    </div>
                    <p class="arflex-attention-note">
                        ÁöÆËÜö„ÅåÊïèÊÑü„Å™„Åü„ÇÅ„ÄÅ‰ΩéÂà∫ÊøÄ„Ç∑„É£„É≥„Éó„Éº„Çí‰ΩøÁî®„ÄÇ„Éâ„É©„Ç§„É§„Éº„ÅÆÊ∏©Â∫¶„ÅØ‰Ωé„ÇÅ„Å´Ë®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                    </p>
                    <div class="arflex-attention-tags">
                        <span class="arflex-attention-tag arflex-tag-medical">Medical</span>
                    </div>
                </div>

                <div class="arflex-attention-card">
                    <div class="arflex-attention-header">
                        <img src="" alt="„Éö„ÉÉ„ÉàÂÜôÁúü" class="arflex-attention-photo" style="background: linear-gradient(45deg, #ef4444, #dc2626);">
                        <div class="arflex-attention-info">
                            <h5>„Çø„É≠„Ç¶„Åè„Çì</h5>
                            <p class="arflex-attention-owner">ÁßãÁî∞Áä¨„ÉªÈ´òÊ©ãÊßò</p>
                        </div>
                    </div>
                    <p class="arflex-attention-note">
                        ÂàùÂõûÊù•Â∫ó„ÅßÁ∑äÂºµ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„ÇÜ„Å£„Åè„Çä„Å®ÊÖ£„Çâ„Åó„Å™„Åå„Çâ‰ΩúÊ•≠„ÇíÈÄ≤„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                    </p>
                    <div class="arflex-attention-tags">
                        <span class="arflex-attention-tag arflex-tag-behavioral">Behavioral</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- COLLECTION ANALYTICS -->
        <div class="arflex-editorial-section">
            <div class="arflex-analytics">
                <div class="arflex-analytics-header">
                    <div>
                        <h2 class="arflex-analytics-title">Collection Analytics</h2>
                        <p class="arflex-analytics-subtitle">„Çµ„É≠„É≥„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Éª„Ç¢„Éä„É™„ÉÜ„Ç£„ÇØ„Çπ</p>
                    </div>
                    <div class="arflex-period-tabs">
                        <button class="arflex-period-tab active">Today</button>
                        <button class="arflex-period-tab">Week</button>
                        <button class="arflex-period-tab">Month</button>
                    </div>
                </div>
                
                <div class="arflex-chart-area">
                    <div class="arflex-chart-placeholder">
                        üìä Chart Area<br>
                        <span style="color: var(--arflex-steel); font-size: var(--arflex-text-xs);">
                            ‰∫àÁ¥ÑÊï∞„ÉªÂ£≤‰∏ä„ÉªÈ°ßÂÆ¢Ê∫ÄË∂≥Â∫¶„ÅÆ„Ç∞„É©„Éï„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ACTIVITY EXHIBITION -->
        <div class="arflex-editorial-section">
            <div class="arflex-editorial-header">
                <h2 class="arflex-editorial-title">Activity Exhibition</h2>
                <p class="arflex-editorial-subtitle">Êú¨Êó•„ÅÆ„Çµ„É≠„É≥Ê¥ªÂãïÂ±•Ê≠¥</p>
            </div>
            
            <div class="arflex-activity">
                <div class="arflex-activity-list">
                    <div class="arflex-activity-item">
                        <div class="arflex-activity-icon" style="background: var(--arflex-blue-silk); color: var(--arflex-blue-refined);">
                            <i data-feather="calendar"></i>
                        </div>
                        <div class="arflex-activity-content">
                            <h6>Êñ∞Ë¶è‰∫àÁ¥Ñ„ÇíÂèó‰ªò</h6>
                            <p>„ÇÇ„ÇÇ„Å°„ÇÉ„ÇìÔºà„ÉÅ„ÉØ„ÉØÔºâ„ÅÆ‰∫àÁ¥Ñ„ÇíÊòéÊó•15:00„ÅßÂèó‰ªò„ÅÑ„Åü„Åó„Åæ„Åó„Åü„ÄÇ</p>
                        </div>
                        <div class="arflex-activity-time">
                            10ÂàÜÂâç
                        </div>
                    </div>

                    <div class="arflex-activity-item">
                        <div class="arflex-activity-icon" style="background: var(--arflex-purple-mist); color: var(--arflex-steel);">
                            <i data-feather="check-circle"></i>
                        </div>
                        <div class="arflex-activity-content">
                            <h6>„Çµ„Éº„Éì„ÇπÂÆå‰∫Ü</h6>
                            <p>„ÉÅ„Éß„Ç≥„Åè„ÇìÔºàÊü¥Áä¨Ôºâ„ÅÆ„Ç∑„É£„É≥„Éó„Éº„Éª„Ç´„ÉÉ„Éà„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„ÄÇ</p>
                        </div>
                        <div class="arflex-activity-time">
                            25ÂàÜÂâç
                        </div>
                    </div>

                    <div class="arflex-activity-item">
                        <div class="arflex-activity-icon" style="background: var(--arflex-mist); color: var(--arflex-graphite);">
                            <i data-feather="edit-3"></i>
                        </div>
                        <div class="arflex-activity-content">
                            <h6>È°ßÂÆ¢ÊÉÖÂ†±„ÇíÊõ¥Êñ∞</h6>
                            <p>„É´„Éä„Å°„ÇÉ„Çì„ÅÆÂÅ•Â∫∑Áä∂ÊÖã„Éª„Ç¢„É¨„É´„ÇÆ„ÉºÊÉÖÂ†±„ÇíÊõ¥Êñ∞„Åó„Åæ„Åó„Åü„ÄÇ</p>
                        </div>
                        <div class="arflex-activity-time">
                            1ÊôÇÈñìÂâç
                        </div>
                    </div>

                    <div class="arflex-activity-item">
                        <div class="arflex-activity-icon" style="background: var(--arflex-blue-serene); color: white;">
                            <i data-feather="dollar-sign"></i>
                        </div>
                        <div class="arflex-activity-content">
                            <h6>„ÅäÊîØÊâï„ÅÑÂá¶ÁêÜ</h6>
                            <p>Áî∞‰∏≠ÊßòÔºà„É´„Éä„Å°„ÇÉ„Çì„ÅÆÈ£º„ÅÑ‰∏ªÔºâ„Åã„Çâ„ÅÆ„ÅäÊîØÊâï„ÅÑ„ÇíÂèó„ÅëÂèñ„Çä„Åæ„Åó„Åü„ÄÇ</p>
                        </div>
                        <div class="arflex-activity-time">
                            2ÊôÇÈñìÂâç
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ACTION GALLERY -->
        <div class="arflex-editorial-section">
            <div class="arflex-editorial-header">
                <h2 class="arflex-editorial-title">Quick Actions</h2>
                <p class="arflex-editorial-subtitle">„Çà„Åè‰ΩøÁî®„Åô„ÇãÊ©üËÉΩ</p>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--arflex-space-lg);">
                <button class="arflex-btn arflex-btn-primary" data-tab="calendar" style="justify-content: center; padding: var(--arflex-space-lg);">
                    <i data-feather="plus-circle"></i>
                    Êñ∞Ë¶è‰∫àÁ¥ÑÁôªÈå≤
                </button>
                
                <button class="arflex-btn arflex-btn-outline" data-tab="customer" style="justify-content: center; padding: var(--arflex-space-lg);">
                    <i data-feather="users"></i>
                    È°ßÂÆ¢ÁÆ°ÁêÜ
                </button>
                
                <button class="arflex-btn arflex-btn-outline" data-tab="ops" style="justify-content: center; padding: var(--arflex-space-lg);">
                    <i data-feather="calendar"></i>
                    „Ç™„Éö„É¨„Éº„Ç∑„Éß„É≥
                </button>
                
                <button class="arflex-btn arflex-btn-outline" data-tab="settings" style="justify-content: center; padding: var(--arflex-space-lg);">
                    <i data-feather="settings"></i>
                    Ë®≠ÂÆö
                </button>
            </div>
        </div>
    </div>

    <!-- HIDDEN APPLICATION STRUCTURE (from original index.html) -->
    <div id="appStructure" style="display: none;">
        <!-- „Åì„ÅÆ‰∏≠„Å´ÂÖÉ„ÅÆindex.html„ÅÆ„Çø„ÉñÊßãÈÄ†„ÇíËøΩÂä† -->
    </div>
    </div>
    <!-- End of Main Content -->

    <!-- Login Modal (Arflex Style) -->
    <div id="loginModal" class="arflex-modal" style="display: none;">
        <div class="arflex-modal-content">
            <div class="arflex-modal-header">
                <h3>Gallery Access</h3>
                <button class="arflex-btn arflex-btn-ghost" id="closeLogin">√ó</button>
            </div>
            <div class="arflex-modal-body">
                <div class="arflex-auth-tabs">
                    <button class="arflex-auth-tab active" data-tab="email">Email</button>
                    <button class="arflex-auth-tab" data-tab="google">Google</button>
                </div>
                
                <div class="arflex-auth-content" id="emailAuth">
                    <form id="emailLoginForm">
                        <div class="arflex-form-group">
                            <label>Email Address</label>
                            <input type="email" id="loginEmail" required>
                        </div>
                        <div class="arflex-form-group">
                            <label>Password</label>
                            <input type="password" id="loginPassword" required>
                        </div>
                        <button type="submit" class="arflex-btn arflex-btn-primary">
                            <i data-feather="log-in"></i>
                            Login
                        </button>
                    </form>
                </div>
                
                <div class="arflex-auth-content" id="googleAuth" style="display: none;">
                    <button id="googleLoginButton" class="arflex-btn arflex-btn-outline">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285f4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34a853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#fbbc05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#ea4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Sign in with Google
                    </button>
                </div>
                
                <div class="arflex-auth-error" id="authError" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            // Add your Firebase config here
            apiKey: "your-api-key",
            authDomain: "your-auth-domain",
            projectId: "your-project-id",
            storageBucket: "your-storage-bucket",
            messagingSenderId: "your-messaging-sender-id",
            appId: "your-app-id"
        };

        // Initialize Firebase
        if (typeof firebase !== 'undefined') {
            firebase.initializeApp(firebaseConfig);
        }

        // Authentication State Management
        let currentUser = null;

        // Check authentication state on load
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Initialize Feather Icons
                if (typeof feather !== 'undefined' && feather.replace) {
                    feather.replace();
                }
                
                // Ensure login screen is visible initially
                showLoginScreen();
                
                if (typeof firebase !== 'undefined' && firebase.auth) {
                    firebase.auth().onAuthStateChanged((user) => {
                        if (user) {
                            // User is signed in
                            currentUser = user;
                            showMainContent(user);
                        } else {
                            // User is signed out
                            currentUser = null;
                            showLoginScreen();
                        }
                    });
                }
                
                setupEventListeners();
            } catch (error) {
                console.error('Initialization error:', error);
                // Fallback: ensure login screen is visible
                const loginScreen = document.getElementById('loginScreen');
                if (loginScreen) {
                    loginScreen.style.display = 'flex';
                }
            }
        });

        function showLoginScreen() {
            const loginScreen = document.getElementById('loginScreen');
            const mainContent = document.getElementById('mainContent');
            if (loginScreen && mainContent) {
                loginScreen.style.display = 'flex';
                mainContent.style.display = 'none';
                mainContent.classList.remove('loaded');
            }
        }

        function showMainContent(user) {
            const loginScreen = document.getElementById('loginScreen');
            const mainContent = document.getElementById('mainContent');
            const userDisplay = document.getElementById('userDisplayName');
            
            if (loginScreen && mainContent) {
                loginScreen.style.display = 'none';
                mainContent.style.display = 'block';
                
                // Update user display
                if (userDisplay) {
                    const displayName = user?.displayName || user?.email || 'Gallery User';
                    userDisplay.textContent = displayName;
                }
                
                // Add loaded animation
                setTimeout(() => {
                    mainContent.classList.add('loaded');
                }, 100);
            }
        }

        function setupEventListeners() {
            try {
                // Auth tab switching
                const authTabs = document.querySelectorAll('.arflex-auth-tab');
                authTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    document.querySelectorAll('.arflex-auth-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    document.querySelectorAll('.arflex-auth-content').forEach(content => {
                        content.style.display = 'none';
                    });
                    document.getElementById(targetTab + 'Auth').style.display = 'block';
                });
            });

                // Email login form
                const emailForm = document.getElementById('emailLoginForm');
                if (emailForm) {
                    emailForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        handleEmailLogin();
                    });
                }

                // Google login button
                const googleBtn = document.getElementById('googleLoginButton');
                if (googleBtn) {
                    googleBtn.addEventListener('click', function() {
                        handleGoogleLogin();
                    });
                }

                // Demo login button
                const demoBtn = document.getElementById('demoLoginBtn');
                if (demoBtn) {
                    demoBtn.addEventListener('click', function() {
                        handleDemoLogin();
                    });
                }

                // Logout button
                const logoutBtn = document.getElementById('logoutBtn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', function() {
                        handleLogout();
                    });
                }

                // Period tab functionality
                const periodTabs = document.querySelectorAll('.arflex-period-tab');
                periodTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        document.querySelectorAll('.arflex-period-tab').forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                    });
                });

                // Action button functionality - now works after login
                const actionButtons = document.querySelectorAll('[data-tab]');
                actionButtons.forEach(btn => {
                    btn.addEventListener('click', function() {
                        const tab = this.getAttribute('data-tab');
                        if (tab && currentUser) {
                            // User is authenticated, handle tab switching
                            console.log('Switching to tab:', tab);
                            // Add your tab switching logic here
                        }
                    });
                });
            } catch (error) {
                console.error('Event listener setup error:', error);
            }
        }

        function handleEmailLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (typeof firebase !== 'undefined' && firebase.auth) {
                firebase.auth().signInWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        // Success - onAuthStateChanged will handle UI update
                        hideAuthError();
                    })
                    .catch((error) => {
                        showAuthError(error.message);
                    });
            } else {
                // Demo mode - simulate login
                if (email && password) {
                    setTimeout(() => {
                        const mockUser = {
                            email: email,
                            displayName: email.split('@')[0]
                        };
                        currentUser = mockUser;
                        showMainContent(mockUser);
                    }, 1000);
                } else {
                    showAuthError('Please enter both email and password');
                }
            }
        }

        function handleGoogleLogin() {
            if (typeof firebase !== 'undefined' && firebase.auth) {
                const provider = new firebase.auth.GoogleAuthProvider();
                firebase.auth().signInWithPopup(provider)
                    .then((result) => {
                        // Success - onAuthStateChanged will handle UI update
                        hideAuthError();
                    })
                    .catch((error) => {
                        showAuthError(error.message);
                    });
            } else {
                handleDemoLogin();
            }
        }

        function handleDemoLogin() {
            // Demo mode - instant login
            const mockUser = {
                email: 'demo@arflex.gallery',
                displayName: 'Arflex Gallery Demo User'
            };
            currentUser = mockUser;
            hideAuthError();
            showMainContent(mockUser);
        }

        function handleLogout() {
            if (typeof firebase !== 'undefined' && firebase.auth) {
                firebase.auth().signOut().then(() => {
                    // Success - onAuthStateChanged will handle UI update
                }).catch((error) => {
                    console.error('Logout error:', error);
                });
            } else {
                // Demo mode
                currentUser = null;
                showLoginScreen();
                document.getElementById('mainContent').classList.remove('loaded');
            }
        }

        function showAuthError(message) {
            const errorDiv = document.getElementById('authError');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        function hideAuthError() {
            document.getElementById('authError').style.display = 'none';
        }
        
        // Add smooth scrolling behavior
        document.documentElement.style.scrollBehavior = 'smooth';
    </script>
    
    <!-- Original Application Script -->
    <script src="app.js"></script>
</body>
</html>