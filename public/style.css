:root{
  /* === Sophisticated Glass-morphism Design System === */
  
  /* Base Colors - ÁèæÂú®„ÅÆÊ∂º„Åó„ÅÑ„Éë„Çπ„ÉÜ„É´„Éñ„É´„ÉºÁ≥ª„ÇíÁ∂≠ÊåÅ */
  --bg: #f6f9ff;
  --surface: rgba(255,255,255,0.84);
  --brand: #63d1c5;
  --brand-ink: #0f1724;
  --accent: #cfc3ff;
  --accent-light: rgba(207,195,255,0.14);
  
  /* Glass-morphism Core Variables */
  --glass-bg: rgba(255,255,255,0.08);
  --glass-bg-strong: rgba(255,255,255,0.15);
  --glass-blur: blur(16px);
  --glass-border: rgba(255,255,255,0.15);
  --glass-shadow: 0 8px 32px rgba(15,23,42,0.08);
  
  /* Sophisticated Typography Hierarchy */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-jp: 'Noto Sans JP', -apple-system-ui, sans-serif;
  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  
  /* Line Heights for Sophisticated Typography */
  --line-height-tight: 1.2;
  --line-height-base: 1.4;
  --line-height-relaxed: 1.6;
  
  /* Text Colors with Hierarchy */
  --text-primary: #0f1724;
  --text-secondary: #475569;
  --text-muted: #64748b;
  --text-subtle: #94a3b8;
  
  /* Sophisticated Spacing System */
  --spacing-xs: 6px;
  --spacing-sm: 12px;
  --spacing-md: 18px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-xxl: 48px;
  
  /* Layered Shadow System */
  --shadow-minimal: 0 1px 3px rgba(15,23,42,0.06);
  --shadow-soft: 0 4px 14px rgba(15,23,42,0.08);
  --shadow-elevated: 0 8px 28px rgba(15,23,42,0.12);
  --shadow-floating: 0 16px 64px rgba(15,23,42,0.16);
  
  /* Light Gradient Effects */
  --light-gradient: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
  --primary-gradient: linear-gradient(135deg, #63d1c5 0%, #6366f1 100%);
  
  /* Border Radius */
  --radius-sm: 6px;
  --radius: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  
  /* Transition Timing */
  --transition-fast: 150ms cubic-bezier(0.4, 0.0, 0.2, 1);
  --transition-base: 250ms cubic-bezier(0.4, 0.0, 0.2, 1);
  --transition-slow: 350ms cubic-bezier(0.4, 0.0, 0.2, 1);
}
    .sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
    html{ height:100%; }
    body{
      margin:0;
      min-height:100%;
      padding: var(--spacing-xxl) var(--spacing-lg);
      background:
        radial-gradient(120% 160% at 0% 0%, rgba(243,232,255,0.58) 0%, rgba(243,232,255,0) 56%),
        radial-gradient(120% 140% at 100% 4%, rgba(190,242,255,0.5) 0%, rgba(190,242,255,0) 58%),
        radial-gradient(120% 120% at 50% 96%, rgba(204,251,241,0.48) 0%, rgba(204,251,241,0) 68%),
        var(--bg);
      background-attachment:fixed;
      color: var(--text-primary);
      font-family: var(--font-primary);
      font-weight: var(--font-weight-regular);
      line-height: var(--line-height-base);
      letter-spacing: -0.01em;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      text-rendering:optimizeLegibility;
      display:flex;
      flex-direction:column;
      gap: var(--spacing-xl);
      align-items:center;
      position:relative;
      overflow-x:hidden;
    }
    
    /* === ÈÄèÊòé„Éë„Éç„É´ÊßãÊàê„Ç∑„Çπ„ÉÜ„É† === */
    main {
      width: 100%;
      max-width: 1200px;
      background: var(--glass-bg);
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-soft);
      padding: var(--spacing-xl);
      position: relative;
      overflow: hidden;
    }
    
    main::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--light-gradient);
      z-index: 1;
    }
    body::before,
    body::after{
      content:"";
      position:fixed;
      width:560px;
      height:560px;
      border-radius:50%;
      pointer-events:none;
      z-index:-1;
      filter:blur(24px);
      opacity:0.9;
    }
    body::before{ top:-220px; left:-160px; background:radial-gradient(circle at center, rgba(111,85,255,.10), transparent 66%); }
    body::after{ bottom:-240px; right:-160px; background:radial-gradient(circle at center, rgba(99,230,203,.08), transparent 70%); }
    
    /* === ÈÉΩ‰ºöÁöÑ„Çø„Ç§„Éù„Ç∞„É©„Éï„Ç£ÈöéÂ±§ === */
    h2 {
      font-family: var(--font-jp);
      font-size: 24px;
      font-weight: var(--font-weight-semibold);
      color: var(--text-primary);
      line-height: var(--line-height-tight);
      margin: 0 0 var(--spacing-md) 0;
      letter-spacing: -0.02em;
    }
    
    h3 {
      font-family: var(--font-primary);
      font-size: 18px;
      font-weight: var(--font-weight-medium);
      color: var(--text-primary);
      line-height: var(--line-height-base);
      margin: 0 0 var(--spacing-sm) 0;
      letter-spacing: -0.01em;
    }
    
    h4 {
      font-family: var(--font-primary);
      font-size: 16px;
      font-weight: var(--font-weight-medium);
      color: var(--text-secondary);
      line-height: var(--line-height-base);
      margin: 0 0 var(--spacing-xs) 0;
    }
    
    p {
      font-family: var(--font-jp);
      font-size: 14px;
      font-weight: var(--font-weight-regular);
      color: var(--text-secondary);
      line-height: var(--line-height-relaxed);
      margin: 0 0 var(--spacing-sm) 0;
    }
    
    .text-muted {
      color: var(--text-muted);
      font-weight: var(--font-weight-light);
    }
    
    .text-subtle {
      color: var(--text-subtle);
      font-size: 13px;
    }
  body>header,
  body>section,
  body>main{ width:min(1180px, 100%); }
  main{ display:flex; flex-direction:column; gap:28px; }
    h1{
      margin:0; 
      font-family: var(--font-jp); 
      font-size: 26px; 
      font-weight: var(--font-weight-semibold); 
      letter-spacing: -0.01em; 
      color: var(--text-primary); 
      line-height: var(--line-height-tight);
    }
    .brand-container{
      position: relative;
      padding: var(--spacing-xs);
      border-radius: 12px;
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.08);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .brand-container::before{
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      z-index: 1;
    }
    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:var(--spacing-md);
      flex-wrap:wrap;
      padding:var(--spacing-lg) var(--spacing-xl);
      background:var(--glass-bg);
      border-radius:var(--radius-xl);
      border:1px solid var(--glass-border);
      backdrop-filter:var(--glass-blur) saturate(120%);
      -webkit-backdrop-filter:var(--glass-blur) saturate(120%);
      box-shadow:var(--shadow-elevated);
      position:relative;
      overflow:hidden;
    }
    header::before{
      content:'';
      position:absolute;
      top:0;
      left:0;
      right:0;
      height:1px;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      z-index:1;
    }
    .store-switcher{ display:none !important; /* Hidden - unified brand display */ }
    .store-switcher::after{ content:""; position:absolute; inset:-60px auto auto -40px; width:180px; height:180px; background:radial-gradient(circle at center, rgba(99,102,241,.18), transparent 72%); z-index:0; }
    .store-switcher>*{ position:relative; z-index:1; }
    .store-switcher .caption{ font-weight:800; font-size:13px; color:var(--brand-ink); letter-spacing:.3px; text-transform:uppercase; }
    .store-switcher .caption{ font-weight:800; font-size:13px; color:#0f172a; letter-spacing:.2px; }
    .store-switcher select{ display:none; }
    .store-switcher .store-groups{ display:flex; flex-wrap:wrap; gap:14px; }
    .store-switcher .store-group{ display:flex; flex-direction:column; gap:8px; min-width:140px; }
    .store-switcher .group-label{ font-size:12px; font-weight:700; color:#1e293b; letter-spacing:.25px; }
    .store-switcher .group-pills{ display:flex; flex-wrap:wrap; gap:10px; }
  .store-switcher .store-pill{ display:inline-flex; align-items:center; justify-content:center; gap:6px; padding:11px 18px; border-radius:999px; border:1px solid rgba(148,163,184,.3); background:linear-gradient(145deg, rgba(255,255,255,.92), rgba(255,255,255,.62)); color:#0f172a; font-weight:700; font-size:13px; box-shadow:var(--shadow-soft); transition:transform .15s ease, box-shadow .2s ease, border-color .15s ease, background-color .2s ease; }
    .store-switcher .store-pill .icon{ font-size:16px; }
    .store-switcher .store-pill:hover{ transform:translateY(-2px); box-shadow:0 24px 44px -26px rgba(15,23,42,.5); border-color:rgba(99,102,241,.35); }
    .store-switcher .store-pill:focus-visible{ outline:3px solid var(--accent); outline-offset:2px; }
    .store-switcher .store-pill[aria-pressed="true"],
    .store-switcher .store-pill.active{ background:linear-gradient(140deg, #63d1c5, #6366f1); color:#fff; border-color:transparent; box-shadow:0 28px 48px -24px rgba(99,102,241,.45); }
    .store-switcher .store-meta{ font-size:12px; color:#64748b; display:flex; align-items:center; gap:6px; font-weight:600; }
    body[data-store-type="HUMAN"] .pet-only{ display:none !important; }
    .quick-nav{ 
      display:flex; 
      gap:var(--spacing-xs); 
      flex-wrap:wrap; 
      align-items:center; 
      padding:var(--spacing-xs) var(--spacing-sm); 
      border-radius:999px; 
      background:var(--glass-bg); 
      backdrop-filter:var(--glass-blur) saturate(110%); 
      -webkit-backdrop-filter:var(--glass-blur) saturate(110%); 
      border:1px solid var(--glass-border); 
      box-shadow:var(--shadow-floating); 
      position:relative;
      overflow:hidden;
    }
    .quick-nav::before{
      content:'';
      position:absolute;
      top:0;
      left:0;
      right:0;
      height:1px;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
      z-index:1;
    }
  .nav-icon{ 
    background: var(--glass-bg-strong); 
    backdrop-filter: var(--glass-blur); 
    -webkit-backdrop-filter: var(--glass-blur); 
    border: 1px solid var(--glass-border); 
    border-radius: var(--radius-lg); 
    width: 48px; 
    height: 48px; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    color: var(--text-primary); 
    transition: var(--transition-base); 
    box-shadow: var(--shadow-minimal); 
    position: relative;
    overflow: hidden;
  }
  
  .nav-icon i {
    width: 20px;
    height: 20px;
    stroke-width: 1.5;
  }
  
  .nav-icon::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--light-gradient);
    opacity: 0;
    transition: opacity var(--transition-fast);
  }
  
  .nav-icon:hover::before {
    opacity: 1;
  }
    .nav-icon:hover{ 
      transform: translateY(-2px) scale(1.05); 
      box-shadow: var(--shadow-elevated); 
      border-color: rgba(99,102,241,0.3); 
    }

    .has-tooltip{ position:relative; }
    .has-tooltip::after{
      content:attr(data-tooltip);
      position:absolute;
      left:50%;
      bottom:calc(100% + 10px);
      transform:translate(-50%, 6px);
      background:rgba(15,23,42,.88);
      color:#f8fafc;
      padding:6px 10px;
      border-radius:10px;
      font-size:11px;
      font-weight:600;
      letter-spacing:.3px;
      white-space:nowrap;
      pointer-events:none;
      opacity:0;
      transition:opacity .15s ease, transform .15s ease;
      box-shadow:0 12px 24px -18px rgba(15,23,42,.6);
      z-index:10;
    }
    .has-tooltip::before{
      content:"";
      position:absolute;
      left:50%;
      bottom:calc(100% + 6px);
      transform:translate(-50%, 6px);
      width:10px;
      height:10px;
      background:rgba(15,23,42,.88);
      clip-path:polygon(50% 100%, 0 0, 100% 0);
      opacity:0;
      transition:opacity .15s ease, transform .15s ease;
      pointer-events:none;
      z-index:9;
    }
    .has-tooltip:hover::after,
    .has-tooltip:focus-visible::after,
    .has-tooltip:hover::before,
    .has-tooltip:focus-visible::before{
      opacity:1;
      transform:translate(-50%, 0);
    }


    .header-actions{ display:flex; align-items:center; gap:16px; margin-left:auto; flex-wrap:wrap; }
    .header-status{ display:flex; gap:12px; flex-wrap:wrap; align-items:stretch; }
  .status-button{ 
    display:flex; 
    align-items:center; 
    gap:var(--spacing-sm); 
    padding:var(--spacing-sm) var(--spacing-md); 
    border-radius:16px; 
    border:1px solid var(--glass-border); 
    background:var(--glass-bg); 
    backdrop-filter:var(--glass-blur); 
    -webkit-backdrop-filter:var(--glass-blur); 
    box-shadow:var(--shadow-minimal); 
    color:var(--text-primary); 
    font-family:var(--font-primary); 
    font-weight:500; 
    cursor:pointer; 
    min-width:200px; 
    text-align:left; 
    transition:all 0.2s cubic-bezier(0.4, 0.0, 0.2, 1); 
  }
    .status-button:hover{ 
      transform:translateY(-2px) scale(1.02); 
      box-shadow:var(--shadow-elevated); 
      border-color:rgba(99,102,241,0.3); 
    }
    .status-button:focus-visible{ outline:3px solid var(--accent); outline-offset:2px; }
    .status-icon{ font-size:24px; display:flex; align-items:center; justify-content:center; }
    .status-text{ display:flex; flex-direction:column; gap:2px; align-items:flex-start; }
    .status-title{ 
      font-size:11px; 
      font-family:var(--font-primary); 
      font-weight:500; 
      letter-spacing:0.5px; 
      text-transform:uppercase; 
      color:var(--text-muted); 
    }
    .status-value{ 
      font-size:18px; 
      font-family:var(--font-jp); 
      font-weight:600; 
      letter-spacing:0.2px; 
      line-height:1.4; 
    }
    .status-sub{ font-size:12px; font-weight:600; color:var(--muted); }
    .header-utilities{ display:flex; align-items:center; gap:12px; position:relative; }
    .sync-control{ display:flex; flex-direction:column; gap:4px; align-items:flex-start; }
    .data-button{ display:inline-flex; align-items:center; gap:6px; padding:10px 16px; border-radius:16px; border:1px solid rgba(148,163,184,.28); background:linear-gradient(140deg, rgba(255,255,255,.95), rgba(255,255,255,.72)); box-shadow:0 20px 42px -30px rgba(15,23,42,.45); font-weight:700; font-size:13px; color:var(--brand-ink); cursor:pointer; transition:transform .15s ease, box-shadow .2s ease, border-color .15s ease, opacity .15s ease; position:relative; }
    .data-button .icon{ font-size:16px; }
    .data-button:hover{ transform:translateY(-1px); box-shadow:0 26px 54px -32px rgba(15,23,42,.55); border-color:rgba(34,197,94,.35); }
    .data-button:focus-visible{ outline:3px solid var(--accent); outline-offset:2px; }
    .data-button.loading,
    .data-button:disabled{ cursor:default; opacity:.65; transform:none; box-shadow:0 18px 36px -30px rgba(15,23,42,.38); }
    .data-button.loading .icon{ animation:spin .9s linear infinite; }

    .help-icon{ width:44px; height:44px; border-radius:14px; border:1px solid rgba(148,163,184,.3); background:linear-gradient(150deg, rgba(255,255,255,.92), rgba(255,255,255,.62)); box-shadow:0 20px 44px -28px rgba(15,23,42,.45); display:flex; align-items:center; justify-content:center; font-size:19px; cursor:pointer; transition:transform .15s ease, box-shadow .2s ease, border-color .15s ease; }
    .help-icon:hover{ transform:translateY(-2px); box-shadow:0 30px 60px -30px rgba(99,102,241,.45); border-color:rgba(99,102,241,.35); }
    .quick-panel{ position:fixed; top:132px; right:32px; width:min(520px, 92vw); max-height:70vh; overflow:auto; background:var(--glass-strong); border:1px solid var(--glass-border); border-radius:24px; box-shadow:0 40px 90px -32px rgba(15,23,42,.5); padding:22px 24px; display:flex; flex-direction:column; gap:18px; z-index:60; backdrop-filter:blur(20px); }
    .quick-panel[hidden]{ display:none; }
    .quick-panel-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .quick-panel-title{ font-size:16px; font-weight:800; letter-spacing:.2px; color:var(--brand-ink); }
    .quick-panel-close{ border-radius:999px; border:1px solid rgba(148,163,184,.28); background:rgba(255,255,255,.88); padding:6px 12px; font-weight:700; cursor:pointer; box-shadow:0 18px 42px -28px rgba(15,23,42,.4); }
    .quick-panel-close:hover{ border-color:rgba(99,102,241,.35); }
    .quick-panel-body{ display:flex; flex-direction:column; gap:18px; }
    .quick-panel-summary{ font-size:13px; font-weight:600; color:var(--muted); }
    .timeline-wrapper{ border:1px solid rgba(148,163,184,.25); border-radius:20px; background:rgba(255,255,255,.9); padding:16px; box-shadow:0 20px 48px -30px rgba(15,23,42,.38); overflow:auto; max-height:360px; }
    .reservation-timeline{ display:flex; flex-direction:column; gap:12px; min-width:540px; }
    .timeline-head{ display:grid; grid-template-columns:140px 1fr; gap:12px; align-items:center; position:sticky; top:0; background:rgba(255,255,255,.95); padding-bottom:6px; z-index:1; }
    .timeline-hours{ display:grid; grid-template-columns:repeat(var(--hour-label-count, 11), minmax(48px, 1fr)); gap:0; font-size:11px; color:var(--muted); letter-spacing:.2px; }
    .timeline-hours span{ text-align:center; font-weight:700; }
    .timeline-row{ display:grid; grid-template-columns:140px 1fr; gap:12px; align-items:stretch; }
    .timeline-staff{ font-weight:800; font-size:13px; color:var(--brand-ink); display:flex; align-items:center; }
    .timeline-track{ position:relative; display:grid; grid-template-columns:repeat(var(--slot-count, 40), minmax(24px, 1fr)); align-items:stretch; border-radius:14px; padding:6px 0; background:rgba(99,102,241,.06); overflow:hidden; }
    .timeline-track::before{ content:""; position:absolute; inset:0; background-image:linear-gradient(to right, rgba(148,163,184,.18) 1px, transparent 1px), linear-gradient(to right, rgba(99,102,241,.28) 1px, transparent 1px); background-size:calc(100% / var(--slot-count, 40)) 100%, calc(100% / var(--hour-count, 10)) 100%; pointer-events:none; }
    .timeline-event{ position:relative; z-index:1; grid-row:1; display:flex; flex-direction:column; gap:4px; justify-content:center; padding:8px 10px; margin:2px 3px; border-radius:12px; background:linear-gradient(135deg, #63d1c5, #6366f1); color:#fff; font-size:12px; line-height:1.4; box-shadow:0 18px 36px -22px rgba(15,23,42,.45); min-height:46px; }
    .timeline-event .event-time{ font-weight:800; font-size:12px; letter-spacing:.2px; }
    .timeline-event .event-label{ font-weight:700; font-size:12px; }
    .timeline-event .event-meta{ font-size:11px; opacity:.92; }
    .timeline-empty{ font-size:13px; color:var(--muted); padding:12px 0; text-align:center; }
    .quick-section{ display:flex; flex-direction:column; gap:8px; }
    .quick-section h3{ margin:0; font-size:14px; font-weight:800; color:var(--brand-ink); letter-spacing:.2px; }
    .quick-section-content{ border:1px solid rgba(148,163,184,.26); border-radius:18px; padding:12px 16px; background:rgba(255,255,255,.92); box-shadow:0 20px 44px -30px rgba(15,23,42,.32); display:flex; flex-direction:column; gap:12px; font-size:13px; color:var(--ink); }
    .quick-section-content .muted{ color:var(--muted); }
    .quick-note-card{ border:1px solid rgba(148,163,184,.22); border-radius:14px; padding:10px 12px; background:rgba(99,102,241,.05); box-shadow:0 14px 32px -24px rgba(15,23,42,.35); display:flex; flex-direction:column; gap:6px; }
    .quick-note-card .note-title{ font-weight:700; color:var(--brand-ink); display:flex; gap:6px; align-items:center; }
    .quick-note-card .note-meta{ font-size:11px; color:var(--muted); display:flex; gap:10px; flex-wrap:wrap; }
    .quick-note-group{ display:flex; flex-direction:column; gap:10px; }
    .quick-note-group h4{ margin:0; font-size:13px; font-weight:800; color:var(--brand-ink); }
    .quick-stats{ display:grid; gap:12px; grid-template-columns:repeat(auto-fit, minmax(160px, 1fr)); }
    .quick-stat{ border:1px solid rgba(148,163,184,.26); border-radius:16px; padding:12px 14px; background:rgba(255,255,255,.92); box-shadow:0 18px 40px -28px rgba(15,23,42,.34); display:flex; flex-direction:column; gap:4px; }
    .quick-stat .label{ font-size:12px; font-weight:700; color:var(--muted); letter-spacing:.2px; }
    .quick-stat .value{ font-size:16px; font-weight:800; color:var(--brand-ink); }
    .quick-list{ display:flex; flex-direction:column; gap:10px; }
    .quick-list-item{ display:flex; justify-content:space-between; align-items:center; border:1px solid rgba(148,163,184,.22); border-radius:14px; padding:10px 14px; background:rgba(255,255,255,.94); box-shadow:0 16px 36px -26px rgba(15,23,42,.34); font-size:13px; }
    .quick-list-item .label{ font-weight:700; color:var(--brand-ink); }
    .quick-list-item .amount{ font-weight:800; color:var(--accent); }
    .quick-list-item .amount-muted{ color:var(--muted); }
    .sales-fab{ position:fixed; bottom:36px; right:36px; display:flex; align-items:center; gap:12px; padding:14px 18px; border-radius:999px; border:1px solid rgba(148,163,184,.28); background:linear-gradient(135deg, rgba(255,255,255,.95), rgba(236,252,245,.88)); box-shadow:0 28px 60px -30px rgba(15,23,42,.45); font-weight:800; color:var(--brand-ink); cursor:pointer; z-index:55; transition:transform .18s ease, box-shadow .22s ease, border-color .18s ease; }
    .sales-fab:hover{ transform:translateY(-3px); box-shadow:0 36px 76px -34px rgba(15,23,42,.52); border-color:rgba(99,102,241,.32); }
    .sales-fab:focus-visible{ outline:3px solid var(--accent); outline-offset:2px; }
    .fab-icon{ font-size:22px; display:flex; align-items:center; justify-content:center; }
    .fab-text{ display:flex; flex-direction:column; gap:2px; align-items:flex-start; }
    .fab-label{ font-size:13px; letter-spacing:.2px; }
    .fab-sub{ font-size:12px; font-weight:600; color:var(--muted); }
    .help-panel-backdrop{ position:fixed; inset:0; background:rgba(15,23,42,.42); z-index:38; }
    .help-panel-backdrop[hidden]{ display:none; }
    .help-panel{ position:fixed; inset:auto; top:50%; left:50%; transform:translate(-50%, -50%); background:var(--glass-strong); border-radius:24px; box-shadow:0 40px 90px -32px rgba(15,23,42,.5); width:min(540px, 92vw); max-height:80vh; overflow:auto; padding:28px; z-index:39; display:flex; flex-direction:column; gap:18px; backdrop-filter:blur(20px); }
    .help-panel[hidden]{ display:none; }
    .help-panel h2{ font-size:18px; margin:0; display:flex; align-items:center; gap:8px; }
    .help-panel h3{ font-size:15px; margin:12px 0 4px; color:var(--brand-ink); }
    .help-panel p{ font-size:13px; color:var(--muted); margin:0; }
    .help-panel ul{ margin:0; padding-left:18px; font-size:13px; color:var(--ink); }
    .help-panel h4{ font-size:14px; margin:8px 0 6px; color:var(--brand-ink); }
    .help-panel-close{ align-self:flex-end; border-radius:999px; border:1px solid rgba(148,163,184,.28); background:rgba(255,255,255,.85); padding:8px 18px; font-weight:600; cursor:pointer; box-shadow:0 18px 40px -26px rgba(15,23,42,.38); }
    .help-panel-close:hover{ border-color:rgba(99,102,241,.4); }
    .help-icon-list{ list-style:none; margin:12px 0 0; padding:0; display:flex; flex-direction:column; gap:10px; }
    .help-icon-list li{ display:flex; align-items:flex-start; gap:12px; padding:10px 12px; border-radius:14px; background:rgba(255,255,255,.9); border:1px solid rgba(148,163,184,.2); box-shadow:0 18px 40px -28px rgba(15,23,42,.32); }
    .help-icon-list .symbol{ font-size:18px; width:26px; text-align:center; }
    .help-icon-list .name{ font-weight:700; color:var(--brand-ink); min-width:120px; }
    .help-icon-list .desc{ font-size:12px; color:var(--muted); }
    .help-map{ display:grid; gap:16px; margin-top:12px; }
    .help-map article{ border:1px solid rgba(148,163,184,.22); border-radius:18px; background:rgba(255,255,255,.9); padding:14px 16px; box-shadow:0 18px 42px -28px rgba(15,23,42,.32); }
    .help-map p{ font-size:12px; color:var(--muted); line-height:1.7; }
  /* Modal overlay and dialog animations */
  .modal-overlay{ position:fixed; inset:0; background:rgba(15,23,42,0.46); z-index:38; opacity:0; transition: opacity 260ms var(--page-transition-ease); }
  .modal-overlay.show{ opacity:1; }

  /* Generic dialog enter/exit (centered modals) */
  .dialog-enter{ opacity:0; transform:translate(-50%, -46%) scale(.98); }
  .dialog-enter.dialog-enter-active{ opacity:1; transform:translate(-50%, -50%) scale(1); transition: opacity 300ms var(--page-transition-ease), transform 300ms var(--page-transition-ease); }
  .dialog-exit{ opacity:1; transform:translate(-50%, -50%) scale(1); }
  .dialog-exit.dialog-exit-active{ opacity:0; transform:translate(-50%, -46%) scale(.98); transition: opacity 260ms var(--page-transition-ease), transform 260ms var(--page-transition-ease); pointer-events:none; }

  /* Quick-panel slide from right variants (for side panels) */
  .quick-panel.panel-enter-right{ opacity:0; transform:translateX(10px); }
  .quick-panel.panel-enter-right.panel-enter-active{ opacity:1; transform:none; transition: opacity 300ms var(--page-transition-ease), transform 300ms var(--page-transition-ease); }
  .quick-panel.panel-exit-right{ opacity:1; transform:none; }
  .quick-panel.panel-exit-right.panel-exit-active{ opacity:0; transform:translateX(8px); transition: opacity 260ms var(--page-transition-ease), transform 260ms var(--page-transition-ease); pointer-events:none; }

  /* Ensure hidden attribute still hides visually */
  .quick-panel[hidden], .help-panel[hidden]{ display:none; }
    @media (min-width:640px){
      .help-map{ grid-template-columns:repeat(2, minmax(0, 1fr)); }
    }
    .home-dashboard{ margin-top:18px; display:flex; flex-direction:column; gap:22px; }
    .home-status-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; }
    .home-dashboard-action{ display:inline-flex; align-items:center; gap:8px; padding:10px 18px; border-radius:999px; border:1px solid rgba(148,163,184,.32); background:linear-gradient(145deg, rgba(255,255,255,.94), rgba(236,252,245,.9)); font-weight:700; color:var(--brand-ink); box-shadow:0 22px 50px -30px rgba(15,23,42,.38); transition:transform .18s ease, box-shadow .2s ease, border-color .18s ease; }
    .home-dashboard-action:hover{ transform:translateY(-2px); border-color:rgba(99,102,241,.35); box-shadow:0 30px 70px -34px rgba(99,102,241,.42); }
    .home-dashboard-action .icon{ font-size:16px; }
    .home-dashboard-action .text{ font-size:13px; letter-spacing:.2px; }
    .home-status-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:16px; }
  .home-status-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:16px; }
  .home-status-tile{ display:flex; align-items:flex-start; gap:14px; padding:16px 18px; border-radius:calc(var(--radius) + 6px); border:1px solid rgba(148,163,184,.24); background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.88)); box-shadow:var(--shadow-soft); text-align:left; transition:transform .18s ease, box-shadow .2s ease, border-color .18s ease; }
  .home-status-tile:hover{ transform:translateY(-2px); border-color:rgba(99,102,241,.32); box-shadow:0 28px 56px -28px rgba(99,102,241,.28); }
    .home-status-icon{ width:52px; height:52px; border-radius:18px; background:linear-gradient(135deg, rgba(99,102,241,.16), rgba(99,230,203,.22)); display:flex; align-items:center; justify-content:center; font-size:24px; color:#0f172a; box-shadow:inset 0 0 0 1px rgba(148,163,184,.22); }
    .home-status-content{ display:flex; flex-direction:column; gap:6px; align-items:flex-start; }
    .home-status-label{ font-size:13px; font-weight:700; color:var(--muted); letter-spacing:.3px; text-transform:uppercase; }
    .home-status-value{ font-size:22px; font-weight:800; color:var(--brand-ink); letter-spacing:.4px; }
    .home-status-sub{ font-size:12px; color:#64748b; display:flex; gap:4px; flex-wrap:wrap; align-items:center; }
    .home-status-sub .label{ font-weight:700; color:#475569; }
    .home-shortcuts-card{ display:flex; flex-direction:column; gap:22px; margin-top:18px; }
    .home-shortcut-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(240px, 1fr)); gap:18px; }
    .home-shortcut{ display:flex; flex-direction:column; gap:12px; background:rgba(255,255,255,.82); border:1px solid rgba(148,163,184,.24); border-radius:24px; padding:18px 20px; box-shadow:0 26px 58px -34px rgba(15,23,42,.4); backdrop-filter:blur(12px); }
    .home-shortcut h3{ margin:0; font-size:15px; font-weight:800; color:var(--brand-ink); letter-spacing:.3px; }
    .home-shortcut-list{ display:flex; flex-direction:column; gap:10px; }
  .home-shortcut-list{ display:flex; flex-direction:column; gap:10px; }
  .home-shortcut-btn{ display:flex; align-items:flex-start; gap:12px; padding:12px 14px; border-radius:16px; border:1px solid rgba(148,163,184,.24); background:linear-gradient(150deg, rgba(255,255,255,.96), rgba(236,252,245,.9)); text-align:left; box-shadow:var(--shadow-soft); transition:transform .18s ease, border-color .18s ease, box-shadow .2s ease; }
  .home-shortcut-btn:hover{ transform:translateY(-2px); border-color:rgba(99,102,241,.34); box-shadow:0 28px 60px -30px rgba(99,102,241,.34); }
    .home-shortcut-btn .shortcut-icon{ width:32px; height:32px; border-radius:12px; background:rgba(99,102,241,.12); display:flex; align-items:center; justify-content:center; font-size:18px; color:#0f172a; box-shadow:inset 0 0 0 1px rgba(148,163,184,.2); }
    .home-shortcut-btn .shortcut-text{ display:flex; flex-direction:column; gap:4px; }
    .home-shortcut-btn .shortcut-title{ font-weight:700; font-size:13px; color:var(--brand-ink); letter-spacing:.2px; }
    .home-shortcut-btn .shortcut-desc{ font-size:12px; color:#64748b; line-height:1.5; }
    .home-overview-card{ margin-top:18px; display:flex; flex-direction:column; gap:22px; }
    .home-overview-header{ display:flex; flex-direction:column; gap:10px; }
    .home-overview-sub{ margin:0; font-size:13px; color:#64748b; line-height:1.6; }
    .home-overview-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr)); gap:18px; }
    .overview-section{ display:flex; flex-direction:column; gap:14px; padding:18px 20px; border:1px solid rgba(148,163,184,.24); border-radius:24px; background:rgba(255,255,255,.86); box-shadow:0 24px 56px -34px rgba(15,23,42,.42); backdrop-filter:blur(12px); }
    .overview-header{ display:flex; align-items:flex-start; justify-content:space-between; gap:14px; }
    .overview-header h3{ margin:0; font-size:15px; font-weight:800; color:var(--brand-ink); letter-spacing:.2px; }
    .overview-hint{ margin:2px 0 0; font-size:12px; color:#64748b; }
    .overview-link{ padding:8px 14px; border-radius:999px; border:1px solid rgba(148,163,184,.26); background:rgba(255,255,255,.9); font-size:12px; font-weight:700; color:var(--brand-ink); box-shadow:0 18px 40px -28px rgba(15,23,42,.36); }
    .overview-link:hover{ border-color:rgba(99,102,241,.38); }
    .spark-chart{ position:relative; display:flex; align-items:flex-end; min-height:160px; padding:18px 12px 24px; border-radius:20px; border:1px solid rgba(148,163,184,.2); background:linear-gradient(160deg, rgba(236,252,245,.76), rgba(255,255,255,.92)); overflow:hidden; }
    .spark-chart.sales{ background:linear-gradient(160deg, rgba(244,244,255,.78), rgba(255,255,255,.94)); }
    .spark-bars{ position:relative; display:flex; align-items:flex-end; gap:10px; width:100%; height:100%; }
    .spark-bar{ position:relative; flex:1; min-width:18px; height:100%; border-radius:14px 14px 6px 6px; background:rgba(148,163,184,.16); }
    .spark-bar::after{ content:""; position:absolute; inset:auto 0 0 0; height:var(--bar-height, 0%); border-radius:inherit; background:linear-gradient(180deg, rgba(99,230,203,.85), rgba(79,70,229,.85)); box-shadow:0 20px 36px -24px rgba(79,70,229,.55); transition:height .28s ease; }
    .spark-chart.sales .spark-bar::after{ background:linear-gradient(180deg, rgba(248,250,252,.9), rgba(56,189,248,.85)); box-shadow:0 20px 38px -24px rgba(56,189,248,.45); }
    .spark-bar.is-today::after{ background:linear-gradient(180deg, rgba(255,215,0,.85), rgba(249,115,22,.88)); box-shadow:0 22px 40px -24px rgba(249,115,22,.5); }
    .spark-bar .value{ position:absolute; top:-18px; left:50%; transform:translateX(-50%); font-size:11px; font-weight:700; color:#0f172a; white-space:nowrap; }
    .spark-bar .label{ position:absolute; bottom:-20px; left:50%; transform:translateX(-50%); font-size:10px; font-weight:600; color:#64748b; white-space:nowrap; }
    .spark-legend{ font-size:12px; color:#475569; font-weight:600; }
    .spark-empty{ width:100%; text-align:center; font-size:12px; color:#94a3b8; }
    .overview-stats{ display:flex; flex-wrap:wrap; gap:8px; }
    .stat-pill{ display:inline-flex; align-items:center; gap:6px; padding:6px 12px; border-radius:999px; border:1px solid rgba(148,163,184,.26); background:rgba(255,255,255,.9); font-size:12px; font-weight:700; color:#0f172a; box-shadow:0 18px 40px -30px rgba(15,23,42,.34); }
    .stat-pill.accent{ border-color:rgba(99,102,241,.35); background:rgba(129,140,248,.18); color:#312e81; }
    .overview-list{ display:flex; flex-direction:column; gap:10px; min-height:120px; }
    .overview-list .muted-text{ font-size:12px; }
    .overview-item{ display:flex; flex-direction:column; gap:8px; padding:12px 14px; border-radius:16px; border:1px solid rgba(148,163,184,.22); background:rgba(255,255,255,.92); box-shadow:0 18px 40px -30px rgba(15,23,42,.36); }
    .overview-item .primary{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; font-size:13px; color:#0f172a; }
    .overview-item .secondary{ display:flex; flex-wrap:wrap; gap:10px; font-size:12px; color:#64748b; }
    .overview-item .time{ font-weight:800; color:var(--brand-ink); }
    .overview-item .customer{ font-weight:700; }
    .overview-item .meta{ font-size:12px; color:#64748b; }
    .overview-item.sale .secondary{ justify-content:space-between; }
    .overview-item.sale .amount{ font-weight:800; color:var(--accent); }
    .overview-item.note .title{ font-weight:700; }
    .overview-item.note.is-pinned .title{ color:#b45309; }
    .overview-empty{ font-size:12px; color:#94a3b8; text-align:center; border:1px dashed rgba(148,163,184,.4); border-radius:16px; padding:12px; background:rgba(255,255,255,.7); }
    @media (max-width:960px){ .home-status-grid{ grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); } }
    @media (max-width:720px){ .home-status-grid{ grid-template-columns:1fr; } .home-shortcut-grid{ grid-template-columns:1fr; } .home-overview-grid{ grid-template-columns:1fr; } }
    .ops-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr)); gap:20px; margin-top:18px; }
    .ops-column{ display:flex; flex-direction:column; gap:12px; padding:20px; border:1px solid rgba(148,163,184,.26); border-radius:26px; background:rgba(255,255,255,.78); box-shadow:0 26px 58px -34px rgba(15,23,42,.4); min-height:220px; backdrop-filter:blur(14px); }
    .ops-column h3{ margin:0; font-size:16px; font-weight:800; color:var(--brand-ink); letter-spacing:.2px; }
    .ops-subhead{ font-size:12px; font-weight:700; color:#0f172a; margin-top:6px; text-transform:uppercase; letter-spacing:.3px; }
    .ops-list{ display:flex; flex-direction:column; gap:12px; }
    .ops-item{ border-radius:18px; border:1px solid rgba(148,163,184,.28); background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); padding:14px 16px; display:flex; flex-direction:column; gap:6px; box-shadow:0 22px 48px -32px rgba(15,23,42,.38); }
    .ops-item .primary{ font-weight:700; color:var(--brand-ink); }
    .ops-item .meta{ font-size:12px; color:var(--muted); display:flex; gap:8px; flex-wrap:wrap; }
    .ops-empty{ font-size:12px; color:var(--muted); }
    .ops-toolbar{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .ops-toolbar .btn-ghost{ padding:8px 12px; }
    .ops-stats{ display:flex; align-items:center; gap:12px; font-size:12px; color:var(--muted); flex-wrap:wrap; }
    .ops-badge{ display:inline-flex; align-items:center; gap:4px; padding:2px 8px; border-radius:999px; background:rgba(14,165,183,.15); color:#0f172a; font-size:11px; font-weight:700; }
    @media (max-width:768px){

      .ops-grid{ grid-template-columns:1fr; }
      .quick-panel{ left:12px; right:12px; width:auto; top:120px; }
      .sales-fab{ right:18px; bottom:24px; }
      .reservation-timeline{ min-width:100%; }
    }
    .nav-icon.active{ background:linear-gradient(140deg, #63d1c5, #6366f1); color:#fff; border-color:transparent; box-shadow:0 26px 48px -24px rgba(99,102,241,.5); }
    .nav-icon:focus-visible{ outline:3px solid var(--accent); outline-offset:2px; }
    h2,h3{font-weight:700; letter-spacing:.2px; color:var(--brand-ink); margin:0 0 12px;}
    small,.hint{color:var(--muted);} .divider{ height:1px; background:var(--line); margin:14px 0; }
    /* Icon sizing and alignment: encourage SVG icons over emoji */
  .icon, .emoji, .nav-icon > .icon{ display:inline-flex; align-items:center; justify-content:center; font-size:1.05rem; line-height:1; color:var(--brand-ink); }
  /* Ensure Feather SVGs render as thin-stroke icons and inherit color */
  /* Native emoji styling - no SVG icon overrides needed */\n  .emoji{ font-family:\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Noto Color Emoji\",sans-serif; font-style:normal; }
  .card{position:relative; background:linear-gradient(155deg, rgba(255,255,255,.95), rgba(255,255,255,.76)); border:1px solid var(--glass-border); border-radius:var(--radius); box-shadow:var(--shadow); padding:calc(var(--pad) + 6px); margin:0; backdrop-filter:blur(12px); overflow:hidden; }
    .section-toolbar{display:flex; align-items:center; justify-content:space-between; gap:18px; flex-wrap:wrap; margin-bottom:18px; }
    .section-title{display:flex; align-items:center; gap:12px; font-weight:800; font-size:20px; color:var(--brand-ink); letter-spacing:.35px; text-transform:uppercase; }
    .section-title .emoji{display:inline-flex; align-items:center; justify-content:center; width:44px; height:44px; border-radius:16px; background:linear-gradient(135deg, rgba(99,230,203,.75), rgba(99,102,241,.75)); color:#fff; font-size:20px; box-shadow:0 20px 40px -24px rgba(99,102,241,.45); }
  .home-back{display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:12px; border:1px solid rgba(148,163,184,.22); background:linear-gradient(145deg, rgba(255,255,255,.92), rgba(236,252,245,.88)); color:#0f172a; font-weight:700; box-shadow:var(--shadow-soft); transition:transform .18s ease, box-shadow .2s ease, border-color .15s ease; letter-spacing:.1px; }
  .home-back::before{content:'üè†'; display:inline-block; margin-right:6px; font-size:18px; filter:drop-shadow(0 1px 2px rgba(15,23,42,.08)); }
    .home-back:hover{transform:translateY(-2px); box-shadow:0 26px 58px -30px rgba(99,102,241,.38); border-color:rgba(99,102,241,.35); }
    .home-back:focus-visible{outline:3px solid var(--accent); outline-offset:2px; }
    .lead{margin:-4px 0 18px; color:var(--muted); font-size:14px; }
    .grid{ display:grid; grid-template-columns: repeat(2, minmax(240px, 1fr)); gap:var(--gap); }
    @media (max-width: 880px){ .grid{ grid-template-columns:1fr; } }
    .calendar-layout{ display:grid; grid-template-columns:minmax(360px, 1.1fr) minmax(280px, 0.9fr); gap:24px; align-items:flex-start; }
    @media (max-width: 1080px){ .calendar-layout{ grid-template-columns:1fr; } }
    .calendar-main, .calendar-side{ display:flex; flex-direction:column; gap:20px; }
    .calendar-form,
    .availability-card,
    .calendar-list-card{ background:rgba(255,255,255,.94); border:1px solid rgba(148,163,184,.22); border-radius:26px; padding:22px; box-shadow:0 28px 60px -36px rgba(15,23,42,.4); display:flex; flex-direction:column; gap:18px; }
    .calendar-form .grid{ margin:0; }
    .calendar-reminder{ display:flex; flex-wrap:wrap; gap:16px; }
    .calendar-reminder label{ flex:1 1 160px; display:flex; flex-direction:column; gap:6px; font-weight:600; }
    .calendar-actions{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
    .availability-grid{ display:grid; grid-template-columns:repeat(2, minmax(140px, 1fr)); gap:14px; }
    @media (max-width: 620px){ .availability-grid{ grid-template-columns:1fr; } }
    .availability-list{ display:flex; flex-wrap:wrap; gap:10px; font-size:13px; color:var(--muted); }
    .availability-list button{ border-radius:999px; border:1px solid rgba(99,102,241,.32); background:linear-gradient(140deg, rgba(255,255,255,.98), rgba(236,252,245,.88)); padding:8px 16px; font-weight:700; color:var(--brand-ink); box-shadow:0 22px 50px -32px rgba(15,23,42,.4); cursor:pointer; transition:transform .15s ease, box-shadow .2s ease, border-color .15s ease; }
    .availability-list button:hover{ transform:translateY(-2px); border-color:rgba(99,102,241,.45); box-shadow:0 30px 66px -32px rgba(99,102,241,.45); }
    .calendar-list{ display:flex; flex-direction:column; gap:14px; }
    .calendar-list .result-card{ margin:0; }
    label{ display:flex; flex-direction:column; gap:6px; font-weight:600; }
    .label-head{ display:flex; align-items:center; gap:6px; }
    .req{ display:inline-flex; align-items:center; justify-content:center; padding:0 6px; border-radius:999px; font-size:11px; line-height:1.6; background:rgba(239,68,68,.12); color:#b91c1c; font-weight:700; }
    input, textarea, select{ appearance:none; background:rgba(255,255,255,.88); border:1px solid rgba(148,163,184,.26); border-radius:14px; padding:12px 14px; font-size:14px; color:var(--ink); box-shadow:0 20px 48px -32px rgba(15,23,42,.38); transition:border-color .18s ease, box-shadow .2s ease, background-color .2s ease; }
    select{ background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cpath fill='%236b7280' d='M5.2 7.5a1 1 0 0 1 1.6-1.1l2.2 2.6a.5.5 0 0 0 .8 0l2.2-2.6a1 1 0 0 1 1.5 1.1l-3 3.8a1.5 1.5 0 0 1-2.3 0z'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 12px center; background-size:18px; padding-right:40px; }
    select:disabled{ color:#94a3b8; background-color:#f1f5f9; }
    .is-required{ border-color:rgba(248,113,113,.8); }
    .is-required:focus{ border-color:#dc2626; box-shadow:0 0 0 4px rgba(248,113,113,.35); }
    input::placeholder, textarea::placeholder{ color:#a0a6ae; }
    input:focus, textarea:focus, select:focus{ outline:none; border-color:rgba(99,102,241,.4); box-shadow:0 0 0 4px var(--ring); background:rgba(255,255,255,.96); }
    .actions{ display:flex; gap:10px; margin-top:8px; flex-wrap:wrap; }
    .field-sm{ gap:4px; }
    .field-sm input,
    .field-sm select,
    .field-sm textarea{ padding:10px; font-size:13px; }
    .field-xs{ gap:4px; max-width:180px; }
    .field-xs input,
    .field-xs select{ padding:8px 10px; font-size:12px; }
    .field-inline{ flex-direction:row; align-items:center; justify-content:space-between; gap:10px; }
    .field-inline span{ font-size:14px; }
  /* === Enhanced Micro-Animations === */
  @keyframes fadeInSlide {
    0% {
      opacity: 0;
      transform: translateY(12px) scale(0.98);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  @keyframes iconPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  
  .home-tile,
  .status-button {
    animation: fadeInSlide 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }
  
  .home-tile:nth-child(1) { animation-delay: 0ms; }
  .home-tile:nth-child(2) { animation-delay: 100ms; }
  .home-tile:nth-child(3) { animation-delay: 200ms; }
  .home-tile:nth-child(4) { animation-delay: 300ms; }
  
  .home-tile .icon:hover {
    animation: iconPulse 0.5s ease-in-out;
  }

  /* === Authentication System Styles === */
  .auth-status {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
  }
  
  .auth-button {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-sm);
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-lg);
    color: var(--text-primary);
    font-family: var(--font-primary);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: var(--transition-base);
    box-shadow: var(--shadow-minimal);
  }
  
  .auth-button:hover {
    background: var(--glass-bg-strong);
    box-shadow: var(--shadow-soft);
    transform: translateY(-1px);
  }
  
  .auth-button i {
    width: 16px;
    height: 16px;
    stroke-width: 2;
  }
  
  .user-info {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
  }
  
  .user-name {
    font-family: var(--font-primary);
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
    font-size: 14px;
  }
  
  /* Auth Modal - „Åä„Åó„ÇÉ„Çå„Å™„É¢„ÉÄ„É≥„ÉÜ„Éº„Éû */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, 
      rgba(255, 240, 245, 0.95) 0%,
      rgba(240, 248, 255, 0.95) 50%,
      rgba(248, 250, 252, 0.95) 100%);
    backdrop-filter: blur(20px) saturate(180%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    animation: fadeIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  
  .auth-modal {
    background: linear-gradient(145deg, 
      rgba(255, 255, 255, 0.98) 0%,
      rgba(250, 251, 253, 0.95) 100%);
    backdrop-filter: blur(25px) saturate(200%);
    border: 1px solid rgba(255, 255, 255, 0.6);
    border-radius: 24px;
    box-shadow: 
      0 25px 80px rgba(0, 0, 0, 0.06),
      0 8px 32px rgba(0, 0, 0, 0.04),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
    width: 90%;
    max-width: 420px;
    max-height: 90vh;
    overflow: hidden;
    transform: scale(0.95) translateY(20px);
    animation: modalSlideIn 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    position: relative;
  }
  
  .auth-modal::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, 
      transparent 0%,
      rgba(255, 192, 203, 0.4) 20%,
      rgba(173, 216, 230, 0.4) 50%,
      rgba(221, 160, 221, 0.4) 80%,
      transparent 100%);
    animation: shimmer 3s ease-in-out infinite;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes modalSlideIn {
    0% {
      transform: scale(0.9) translateY(40px);
      opacity: 0;
    }
    100% {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
  }
  
  @keyframes shimmer {
    0%, 100% { transform: translateX(-100%); }
    50% { transform: translateX(100%); }
  }
  
  .modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 32px 32px 24px;
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.9) 0%,
      rgba(248, 250, 252, 0.8) 100%);
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    position: relative;
  }
  
  .modal-header h2 {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 28px;
    font-weight: 600;
    margin: 0;
    animation: titleGlow 2s ease-in-out infinite alternate;
  }
  
  @keyframes titleGlow {
    from { filter: brightness(1); }
    to { filter: brightness(1.1); }
  }
  
  .modal-close {
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(0, 0, 0, 0.08);
    border-radius: 12px;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    cursor: pointer;
  }
  
  .modal-close:hover {
    background: rgba(255, 255, 255, 1);
    transform: scale(1.1) rotate(90deg);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  }
  
  .modal-body {
    padding: 0 32px 32px;
  }
  
  .auth-tabs {
    display: flex;
    margin-bottom: 32px;
    background: rgba(248, 250, 252, 0.6);
    border-radius: 16px;
    padding: 6px;
    position: relative;
  }
  
  .auth-tab {
    flex: 1;
    padding: 14px 24px;
    border: none;
    background: transparent;
    border-radius: 12px;
    font-weight: 500;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    z-index: 2;
  }
  
  .auth-tab.active {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    transform: scale(1.02);
    box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
  }
  
  .form-group {
    margin-bottom: 24px;
    position: relative;
  }
  
  .form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #4a5568;
    font-size: 14px;
  }
  
  .form-group input {
    width: 100%;
    padding: 16px 20px;
    border: 2px solid rgba(0, 0, 0, 0.06);
    border-radius: 16px;
    font-size: 16px;
    background: rgba(255, 255, 255, 0.9);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-sizing: border-box;
  }
  
  .form-group input:focus {
    outline: none;
    border-color: #667eea;
    background: rgba(255, 255, 255, 1);
    transform: translateY(-2px);
    box-shadow: 
      0 8px 25px rgba(102, 126, 234, 0.15),
      0 4px 12px rgba(0, 0, 0, 0.05);
  }
  
  .btn-primary {
    width: 100%;
    padding: 18px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    border-radius: 16px;
    color: white;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
  }
  
  .btn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }
  
  .btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 
      0 15px 35px rgba(102, 126, 234, 0.3),
      0 8px 20px rgba(0, 0, 0, 0.1);
  }
  
  .btn-primary:hover::before {
    left: 100%;
  }
  
  .btn-primary:active {
    transform: translateY(-1px);
  }
  
  .btn-google {
    width: 100%;
    padding: 16px;
    background: rgba(255, 255, 255, 0.95);
    border: 2px solid rgba(0, 0, 0, 0.08);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  
  .btn-google:hover {
    background: rgba(255, 255, 255, 1);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border-color: rgba(66, 133, 244, 0.3);
  }
  
  .modal-header h2 {
    margin: 0;
    font-family: var(--font-jp);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
  }
  
  .modal-close {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: var(--spacing-xs);
    border-radius: var(--radius);
    transition: var(--transition-fast);
  }
  
  .modal-close:hover {
    background: var(--glass-bg);
    color: var(--text-primary);
  }
  
  .modal-body {
    padding: var(--spacing-lg);
  }
  
  .auth-tabs {
    display: flex;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-lg);
  }
  
  .auth-tab {
    flex: 1;
    padding: var(--spacing-sm);
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius);
    color: var(--text-secondary);
    font-family: var(--font-primary);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: var(--transition-base);
  }
  
  .auth-tab.active {
    background: var(--primary-gradient);
    color: white;
    border-color: transparent;
  }
  
  .form-group {
    margin-bottom: var(--spacing-md);
  }
  
  .form-group label {
    display: block;
    margin-bottom: var(--spacing-xs);
    font-family: var(--font-primary);
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
    font-size: 14px;
  }
  
  .form-group input {
    width: 100%;
    padding: var(--spacing-sm);
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius);
    color: var(--text-primary);
    font-family: var(--font-primary);
    font-size: 14px;
    transition: var(--transition-base);
  }
  
  .form-group input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-light);
  }
  
  .btn-primary {
    width: 100%;
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--primary-gradient);
    border: none;
    border-radius: var(--radius-lg);
    color: white;
    font-family: var(--font-primary);
    font-weight: var(--font-weight-semibold);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs);
    cursor: pointer;
    transition: var(--transition-base);
    box-shadow: var(--shadow-soft);
  }
  
  .btn-primary:hover {
    box-shadow: var(--shadow-elevated);
    transform: translateY(-1px);
  }
  
  .btn-google {
    width: 100%;
    padding: var(--spacing-sm) var(--spacing-md);
    background: white;
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-lg);
    color: var(--text-primary);
    font-family: var(--font-primary);
    font-weight: var(--font-weight-medium);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs);
    cursor: pointer;
    transition: var(--transition-base);
    box-shadow: var(--shadow-minimal);
  }
  
  .btn-google:hover {
    box-shadow: var(--shadow-soft);
    transform: translateY(-1px);
  }
  
  .auth-error {
    margin-top: var(--spacing-md);
    padding: var(--spacing-sm);
    background: rgba(248, 113, 113, 0.1);
    border: 1px solid rgba(248, 113, 113, 0.3);
    border-radius: var(--radius);
    color: #dc2626;
    font-size: 13px;
    text-align: center;
  }

  /* === Glass-morphism Light Sources === */
  body::before {
    content: '';
    position: fixed;
    top: -50vh;
    left: -20vw;
    width: 120vw;
    height: 120vh;
    background: radial-gradient(ellipse at 30% 20%, rgba(99,102,241,0.12) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
  }
  
  body::after {
    content: '';
    position: fixed;
    bottom: -30vh;
    right: -20vw;
    width: 80vw;
    height: 80vh;
    background: radial-gradient(ellipse at 70% 80%, rgba(147,197,253,0.08) 0%, transparent 50%);
    pointer-events: none;
    z-index: -2;
  }
  button{
    font-family: var(--font-primary);
    font-weight: var(--font-weight-medium);
    border: 1px solid transparent;
    border-radius: var(--radius-subtle);
    padding: 12px 20px;
    background: var(--glass-bg-strong);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    letter-spacing: -0.01em;
  }
  
  button::before{
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--light-gradient);
    opacity: 0;
    transition: opacity 0.2s ease;
    z-index: 0;
  }
  
  button:hover::before{
    opacity: 1;
  }
  
  button:hover{
    transform: translateY(-1px);
    box-shadow: var(--shadow-elevated);
    border-color: var(--glass-border);
  }
  
  .btn-primary{
    background: var(--primary-gradient);
    color: white;
    border: none;
    font-weight: var(--font-weight-medium);
    box-shadow: var(--shadow-subtle);
  }
  
  .btn-primary:hover{
    box-shadow: var(--shadow-elevated);
    transform: translateY(-2px);
  }
    .btn-ghost{ background:rgba(255,255,255,.82); color:#0f172a; border-color:rgba(148,163,184,.3); box-shadow:0 18px 44px -30px rgba(15,23,42,.35); }
    .btn-ghost:hover{ border-color:rgba(99,102,241,.35); }
    .tab-pane{ display:none; flex-direction:column; gap:28px; }
    .tab-pane.active{ display:flex; flex-direction:column; gap:28px; }

    /* Page transition tokens and classes: soft fade + slight slide for a calm feel */
    :root{
      --page-transition-duration: 300ms; /* 0.3s as specified */
      --page-transition-ease: cubic-bezier(.2,.9,.2,1);
      --page-transition-distance: 8px;
      --card-entrance-duration: 250ms; /* 0.25s for card float-up */
      --button-press-duration: 150ms; /* 0.15s for button ripple+sink */
      --save-complete-duration: 400ms; /* 0.4s for checkmark rotation */
    }

    /* Entering pane (start hidden below & transparent) */
    .tab-pane.pane-enter{ opacity:0; transform:translateY(var(--page-transition-distance)); display:flex !important; }
    .tab-pane.pane-enter.pane-enter-active{ opacity:1; transform:none; transition: opacity var(--page-transition-duration) var(--page-transition-ease), transform var(--page-transition-duration) var(--page-transition-ease); }

    /* Exiting pane (fade out and move up slightly) */
    .tab-pane.pane-exit{ opacity:1; transform:none; display:flex !important; }
    .tab-pane.pane-exit.pane-exit-active{ opacity:0; transform:translateY(calc(var(--page-transition-distance) * -1)); transition: opacity var(--page-transition-duration) var(--page-transition-ease), transform var(--page-transition-duration) var(--page-transition-ease); pointer-events:none; }

    /* Make sure panes occupy normal flow while animating; we rely on JS to set display during transitions */
    .tab-pane[style*="display:flex"]{ display:flex !important; }

    /* Horizontal slide variants (left / right) */
    .tab-pane.pane-enter-left{ opacity:0; transform:translateX(calc(var(--page-transition-distance) * -1)); display:flex !important; }
    .tab-pane.pane-enter-left.pane-enter-active{ opacity:1; transform:none; transition: opacity var(--page-transition-duration) var(--page-transition-ease), transform var(--page-transition-duration) var(--page-transition-ease); }
    .tab-pane.pane-exit-left{ opacity:1; transform:none; display:flex !important; }
    .tab-pane.pane-exit-left.pane-exit-active{ opacity:0; transform:translateX(var(--page-transition-distance)); transition: opacity var(--page-transition-duration) var(--page-transition-ease), transform var(--page-transition-duration) var(--page-transition-ease); pointer-events:none; }

    .tab-pane.pane-enter-right{ opacity:0; transform:translateX(var(--page-transition-distance)); display:flex !important; }
    .tab-pane.pane-enter-right.pane-enter-active{ opacity:1; transform:none; transition: opacity var(--page-transition-duration) var(--page-transition-ease), transform var(--page-transition-duration) var(--page-transition-ease); }
    .tab-pane.pane-exit-right{ opacity:1; transform:none; display:flex !important; }
    .tab-pane.pane-exit-right.pane-exit-active{ opacity:0; transform:translateX(calc(var(--page-transition-distance) * -1)); transition: opacity var(--page-transition-duration) var(--page-transition-ease), transform var(--page-transition-duration) var(--page-transition-ease); pointer-events:none; }

    /* Enhanced ripple effect for buttons with sink */
    button, .btn { position:relative; overflow:hidden; transition: transform var(--button-press-duration) ease-out; }
    button:active, .btn:active{ transform:scale(.96) translateY(1px); }
    .ripple{ position:absolute; border-radius:50%; background:rgba(255,255,255,.7); transform:scale(0); pointer-events:none; will-change:transform,opacity; animation: ripple-effect var(--button-press-duration) ease-out; }
    @keyframes ripple-effect{ to{ transform:scale(4); opacity:0; } }

    /* Toast container and toast */
    .app-toast-container{ position:fixed; right:20px; bottom:24px; display:flex; flex-direction:column; gap:10px; z-index:1200; }
    .app-toast{ background:var(--glass-strong); border:1px solid var(--glass-border); padding:10px 14px; border-radius:12px; box-shadow:0 18px 44px -18px rgba(15,23,42,.18); color:var(--brand-ink); opacity:0; transform:translateY(8px); transition: opacity 260ms var(--page-transition-ease), transform 260ms var(--page-transition-ease); }
    .app-toast.show{ opacity:1; transform:none; }

    /* Reveal utility (intersection observer will toggle .is-visible) */
    .reveal{ opacity:0; transform:translateY(12px); transition: opacity 420ms var(--page-transition-ease), transform 420ms var(--page-transition-ease); will-change:opacity,transform; }
    .reveal.is-visible{ opacity:1; transform:none; }

    /* Card entrance animation: float up from bottom */
    .card-entrance{ opacity:0; transform:translateY(24px); transition: opacity var(--card-entrance-duration) var(--page-transition-ease), transform var(--card-entrance-duration) var(--page-transition-ease); will-change:opacity,transform; }
    .card-entrance.is-visible{ opacity:1; transform:none; }

    /* Enhanced button press animation */
    .btn-press{ transform:scale(.96) translateY(1px); transition: transform var(--button-press-duration) ease-out; }
    
    /* Save completion checkmark rotation */
    .save-complete{ position:relative; overflow:visible; }
    .save-complete::after{ content:'‚úì'; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%) rotate(0deg) scale(0); opacity:0; color:#16a34a; font-weight:bold; font-size:1.2em; transition: transform var(--save-complete-duration) cubic-bezier(.34,1.56,.64,1), opacity var(--save-complete-duration) ease; pointer-events:none; }
    .save-complete.show-check::after{ transform:translate(-50%,-50%) rotate(360deg) scale(1); opacity:1; }

    /* Moving background light animation */
    body::before{ content:''; position:fixed; left:-50%; top:-50%; width:200%; height:200%; background:radial-gradient(circle at center, rgba(207,195,255,.08) 0%, transparent 60%); animation: gentle-light 20s ease-in-out infinite; pointer-events:none; z-index:-1; }
    @keyframes gentle-light{ 0%,100%{ transform:translate(0,0) scale(1); } 25%{ transform:translate(10px,-15px) scale(1.05); } 50%{ transform:translate(-8px,12px) scale(.95); } 75%{ transform:translate(15px,8px) scale(1.02); } }

    /* Enhanced notification system */
    .notification-container{ position:fixed; bottom:80px; right:20px; display:flex; flex-direction:column; gap:12px; z-index:1300; pointer-events:none; }
    .notification{ background:var(--glass-strong); border:1px solid var(--glass-border); padding:12px 16px; border-radius:12px; box-shadow:0 20px 50px -20px rgba(15,23,42,.25); color:var(--brand-ink); opacity:0; transform:translateY(20px) scale(.94); transition: opacity 280ms var(--page-transition-ease), transform 280ms var(--page-transition-ease); pointer-events:auto; max-width:320px; }
    .notification.show{ opacity:1; transform:none; }
    .notification.success{ border-left:4px solid #16a34a; }
    .notification.error{ border-left:4px solid #dc2626; }
    .notification.info{ border-left:4px solid #2563eb; }

    /* Accessibility: respect prefers-reduced-motion */
    @media (prefers-reduced-motion: reduce){
      .tab-pane.pane-enter.pane-enter-active,
      .tab-pane.pane-exit.pane-exit-active,
      .tab-pane.pane-enter-left.pane-enter-active,
      .tab-pane.pane-exit-left.pane-exit-active,
      .tab-pane.pane-enter-right.pane-enter-active,
      .tab-pane.pane-exit-right.pane-exit-active,
      .app-toast,
      .reveal,
      .card-entrance,
      .notification{ transition: none !important; animation: none !important; }
      .ripple,
      body::before{ display:none !important; }
      .save-complete::after{ transition: opacity .1s ease !important; transform:translate(-50%,-50%) !important; }
    }

    /* Button press micro-animation and checkmark toggle */
    .btn-press{ transform: scale(.985); transition: transform 140ms ease; }
    .btn-toggle-check{ position:relative; display:inline-flex; align-items:center; gap:8px; }
    .btn-toggle-check .checkmark{ display:inline-flex; width:18px; height:18px; align-items:center; justify-content:center; opacity:0; transform:scale(.8); transition:opacity 200ms var(--page-transition-ease), transform 200ms var(--page-transition-ease); }
    .btn-toggle-check.checked .checkmark{ opacity:1; transform:scale(1); }
    .btn-toggle-check .checkmark svg{ width:16px; height:16px; stroke:currentColor; stroke-width:2; fill:none; }

  /* Role presets: hide UI elements not in the preset */
  .hidden-by-role{ display:none !important; }

  /* Small role selector in header */
  .role-selector{ display:inline-flex; align-items:center; margin-right:8px; }
  .role-selector select{ padding:8px 10px; border-radius:10px; border:1px solid rgba(148,163,184,.26); background:linear-gradient(140deg, rgba(255,255,255,.95), rgba(255,255,255,.7)); font-weight:700; cursor:pointer; }

    /* display-mode selector styling */
    .display-mode{ display:inline-flex; align-items:center; gap:8px; margin-right:8px; }
    .display-mode select{ padding:8px 10px; border-radius:10px; border:1px solid rgba(148,163,184,.26); background:linear-gradient(140deg, rgba(255,255,255,.95), rgba(255,255,255,.7)); font-weight:700; cursor:pointer; }

    /* Mode-specific layout adjustments using html[data-display-mode] to allow quick overrides */
    html[data-display-mode="mobile"] .quick-nav{
      position:fixed; left:0; right:0; bottom:0; margin:0 auto; display:flex; justify-content:space-around; gap:6px; width:100%; max-width:100%; padding:10px 14px; z-index:80; border-radius:0; box-shadow:0 -8px 24px rgba(15,23,42,.12);
    }
    html[data-display-mode="mobile"] .nav-icon{ width:56px; height:56px; border-radius:12px; font-size:22px; }
    html[data-display-mode="mobile"] header{ position:fixed; top:0; left:0; right:0; z-index:70; border-radius:0; }
    html[data-display-mode="mobile"] body{ padding-top:72px; padding-bottom:84px; }


    /* ensure touch targets are at least 44px */
    html[data-display-mode="mobile"] button, html[data-display-mode="mobile"] .nav-icon{ min-width:44px; min-height:44px; }

    html[data-display-mode="desktop"] .quick-nav{ position:relative; bottom:auto; left:auto; right:auto; width:auto; padding:10px 14px; }
    html[data-display-mode="desktop"] header{ position:static; }

    /* small screens use mobile mode by default if auto */
    @media (max-width:767px){ html[data-display-mode="auto"] .quick-nav{ position:fixed; left:0; right:0; bottom:0; margin:0 auto; width:100%; z-index:80; } html[data-display-mode="auto"] body{ padding-bottom:84px; } }
    @media (min-width:1024px){ html[data-display-mode="auto"] .quick-nav{ position:relative; } html[data-display-mode="auto"] body{ padding-bottom:48px; } }

    /* Desktop: fixed left sidebar (vertical navigation) */
    html[data-display-mode="desktop"] .quick-nav{
      position:fixed;
      left:20px;
      top:24px;
      bottom:24px;
      width:72px;
      flex-direction:column;
      align-items:center;
      gap:12px;
      padding:12px 8px;
      border-radius:16px;
      z-index:90;
    }
    html[data-display-mode="desktop"] .nav-icon{ width:56px; height:56px; border-radius:12px; font-size:20px; }
    html[data-display-mode="desktop"] body{ padding-left:120px; }
    /* shift header/sections to allow space; use margin-left so centered max-width still applies */
    html[data-display-mode="desktop"] body>header,
    html[data-display-mode="desktop"] body>section,
    html[data-display-mode="desktop"] body>main{
      margin-left:120px;
    }
    /* slightly reduce store-switcher width on desktop to fit sidebar */
    @media (min-width:1180px){ html[data-display-mode="desktop"] .store-switcher{ min-width:220px; } }

    /* Right-side fixed panel for desktop */
    .app-right-panel{ display:none; }
    html[data-display-mode="desktop"] .app-right-panel{
      display:block;
      position:fixed;
      right:20px;
      top:92px;
      width:340px;
      bottom:20px;
      background:var(--glass-strong);
      border:1px solid var(--glass-border);
      border-radius:16px;
      padding:14px;
      box-shadow:0 30px 80px -40px rgba(15,23,42,.4);
      overflow:auto;
      z-index:80;
    }
    html[data-display-mode="desktop"] .app-right-panel .app-right-inner{ display:flex; flex-direction:column; gap:12px; }

    /* Desktop main grid: allow content to flow into 3 columns visually using multi-column layout */
    html[data-display-mode="desktop"] main{
      column-count:3;
      column-gap:20px;
      max-width: calc(100% - 120px - 380px);
    }
    html[data-display-mode="desktop"] main > section,
    html[data-display-mode="desktop"] main > .card,
    html[data-display-mode="desktop"] main > div.card{
      display:inline-block;
      width:100%;
      break-inside:avoid;
      margin-bottom:20px;
    }
    .msg{ margin-top:8px; font-size:13px; color:var(--muted);} .msg.ok{ color:#166534 } .msg.err{ color:#b91c1c }
    .seg { display:inline-flex; gap:6px; padding:6px; background:rgba(255,255,255,.8); border-radius:999px; border:1px solid rgba(148,163,184,.28); box-shadow:0 16px 36px -26px rgba(15,23,42,.35); }
    .seg button { background:rgba(255,255,255,.9); border:1px solid transparent; padding:6px 14px; border-radius:999px; cursor:pointer; font-weight:600; color:#4b5563; transition:transform .15s ease, border-color .15s ease; }
    .seg button:hover{ transform:translateY(-2px); border-color:rgba(99,102,241,.3); }
    .seg button.active { background:linear-gradient(135deg, #63d1c5, #6366f1); border:1px solid transparent; box-shadow:0 24px 48px -30px rgba(99,102,241,.42); color:#fff; }
    .filters { display:grid; grid-template-columns: repeat(4,minmax(160px,1fr)); gap:10px; margin-top:10px; }
    @media(max-width:880px){ .filters { grid-template-columns: 1fr 1fr; } }

    /* === Ê§úÁ¥¢ÁµêÊûú„ÅÆË¶ã„ÇÑ„Åô„ÅïÂº∑Âåñ === */
    .results-toolbar{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:14px 16px; background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); border:1px solid rgba(148,163,184,.28); border-radius:20px; margin-top:14px; box-shadow:0 22px 48px -30px rgba(15,23,42,.38); }
    .results-toolbar .left{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; font-weight:600; }
    .pill{ display:inline-flex; align-items:center; gap:6px; padding:6px 12px; border:1px solid rgba(148,163,184,.3); border-radius:999px; background:rgba(99,230,203,.16); font-size:12px; color:#0b3a3f; font-weight:600; }
    .pill .x{ cursor:pointer; opacity:.7; }
    .seg2{ display:inline-flex; gap:6px; padding:6px; background:rgba(255,255,255,.8); border-radius:999px; border:1px solid rgba(148,163,184,.28); box-shadow:0 16px 36px -26px rgba(15,23,42,.35); }
    .seg2 button{ background:rgba(255,255,255,.9); border:1px solid rgba(148,163,184,.26); padding:6px 14px; border-radius:999px; cursor:pointer; font-weight:600; transition:transform .15s ease, border-color .15s ease; }
    .seg2 button:hover{ transform:translateY(-2px); border-color:rgba(99,102,241,.35); }
    .seg2 button.active{ outline:2px solid var(--accent); border-color:transparent; background:linear-gradient(135deg, #63d1c5, #6366f1); color:#fff; }

    .result-list{ margin-top:8px; display:grid; grid-template-columns: repeat(2, minmax(280px,1fr)); gap:12px; }
    @media(max-width:980px){ .result-list{ grid-template-columns:1fr; } }

    .result-card{ position:relative; background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); border:1px solid rgba(148,163,184,.28); border-radius:22px; padding:18px; transition: box-shadow .2s ease, border-color .18s ease, transform .15s ease; box-shadow:0 24px 58px -34px rgba(15,23,42,.42); }
    .result-card:hover{ transform:translateY(-4px); box-shadow:0 34px 72px -34px rgba(99,102,241,.45); border-color:rgba(99,102,241,.36); }
    .result-card .head{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
    .result-card .title{ font-weight:800; letter-spacing:.2px; }
    .result-card .sub{ color:var(--muted); font-size:13px; }
    .badges{ display:flex; flex-wrap:wrap; gap:6px; margin-top:6px; }
    .badge{ display:inline-block; padding:2px 8px; border-radius:999px; background:#eef7f8; border:1px solid #d9eff1; font-size:12px; color:#0b3a3f; }
    .idpill{ display:inline-block; padding:2px 6px; border-radius:6px; font-family:ui-monospace, SFMono-Regular, Menlo, monospace; background:#f8fafc; border:1px dashed #d7dee6; color:#0b3a3f; margin-left:6px; }
    .meta{ display:grid; grid-template-columns: 1fr 1fr; gap:6px; margin-top:8px; font-size:13px; color:#334155; }
    .mark{ background: #fff3bf; box-shadow: inset 0 -2px 0 #ffe066; border-radius:4px; padding:0 2px; }
    .hit-kw{ font-size:12px; color:#0f172a; background:#ecfeff; border:1px dashed #bae6fd; padding:2px 6px; border-radius:999px; }

    .result-compact .result-card{ padding:10px; }
    .result-compact .meta{ display:none; }

    /* === „Éõ„Éº„É†„Ç´„Éº„Éâ === */
    .home-card{ position:relative; overflow:hidden; padding:40px 36px; display:flex; flex-direction:column; gap:26px; }
    .home-card::before{ content:""; position:absolute; inset:-120px auto auto -80px; width:340px; height:340px; background:radial-gradient(circle at center, rgba(99,102,241,.18), transparent 68%); z-index:0; }
    .home-card::after{ content:""; position:absolute; inset:auto -120px -140px auto; width:320px; height:320px; background:radial-gradient(circle at center, rgba(99,230,203,.2), transparent 70%); z-index:0; }
    .home-card>*{ position:relative; z-index:1; }
    .home-hero{ display:flex; flex-direction:column; gap:10px; }
  .home-hero h2{ margin:0; font-size:30px; font-weight:800; background:var(--hero-gradient); -webkit-background-clip:text; background-clip:text; color:transparent; letter-spacing:.6px; }
    .home-hero p{ margin:0; color:var(--muted); font-size:15px; max-width:640px; }
    .home-groups{ display:grid; gap:24px; }
    .home-group{ display:flex; flex-direction:column; gap:14px; padding:22px 24px; border-radius:26px; background:rgba(255,255,255,.72); border:1px solid rgba(148,163,184,.24); box-shadow:0 28px 60px -34px rgba(15,23,42,.42); backdrop-filter:blur(14px); }
    .home-group::before{ content:""; align-self:flex-start; width:52px; height:2px; border-radius:999px; background:linear-gradient(90deg, rgba(99,102,241,.6), rgba(99,230,203,.3)); }
    .home-group-title{ display:flex; align-items:center; gap:8px; font-weight:800; font-size:16px; letter-spacing:.25px; color:var(--brand-ink); text-transform:uppercase; }
    .home-group-title::before{ content:""; width:12px; height:12px; border-radius:50%; background:linear-gradient(135deg, #63d1c5, #6366f1); box-shadow:0 0 0 4px rgba(99,102,241,.16); }
    .tile-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:16px; }
  .tile-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:16px; }
  .home-tile{ 
    background: var(--glass-bg); 
    border: 1px solid var(--glass-border); 
    border-radius: var(--radius-xl); 
    padding: var(--spacing-lg); 
    text-align: left; 
    display: flex; 
    flex-direction: column; 
    gap: var(--spacing-sm); 
    align-items: flex-start; 
    cursor: pointer; 
    transition: var(--transition-base); 
    box-shadow: var(--shadow-soft); 
    backdrop-filter: var(--glass-blur) saturate(110%); 
    -webkit-backdrop-filter: var(--glass-blur) saturate(110%); 
    position: relative;
    overflow: hidden;
  }
  
  /* ÈáçË¶Å„Ç´„Éº„ÉâÔºà‰∫àÁ¥Ñ„ÉªÂ£≤‰∏äÔºâ - Âº∑„ÅÑÊµÆÈÅäÊÑü */
  .home-tile[data-priority="high"],
  .home-tile.priority-high {
    box-shadow: var(--shadow-elevated);
    background: var(--glass-bg-strong);
  }
  
  /* Ë£úÂä©„Ç´„Éº„Éâ - ÊúÄÂ∞è„ÅÆÂΩ± */
  .home-tile[data-priority="low"],
  .home-tile.priority-low {
    box-shadow: var(--shadow-minimal);
  }
  .home-tile:hover{ 
    transform: translateY(-3px) scale(1.01); 
    box-shadow: var(--shadow-floating); 
    border-color: rgba(99,102,241,0.3); 
  }
  
  /* ÂÖâ„ÅÆ„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÂäπÊûú */
  .home-tile::before{
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--light-gradient);
    opacity: 0;
    transition: opacity var(--transition-base);
    pointer-events: none;
  }
  
  .home-tile:hover::before{
    opacity: 1;
  }
  
  /* ‰∏äÁ´Ø„É©„Ç§„Éà„É©„Ç§„É≥ */
  .home-tile::after{
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--accent-light), transparent);
    opacity: 0;
    transition: opacity var(--transition-fast);
  }
  
  .home-tile:hover::after{
    opacity: 1;
  }
    .home-tile:focus-visible{ outline:3px solid var(--accent); outline-offset:2px; }
    .home-tile .icon{ width:56px; height:56px; border-radius:18px; background:linear-gradient(140deg, rgba(99,102,241,.15), rgba(99,230,203,.25)); display:flex; align-items:center; justify-content:center; font-size:24px; color:#0f172a; box-shadow:inset 0 0 0 1px rgba(148,163,184,.2); }
    .home-tile .label{ font-weight:800; font-size:16px; letter-spacing:.3px; color:var(--brand-ink); }
    .home-tile .desc{ font-size:13px; color:#475569; line-height:1.6; }
    .home-tile .badge-note{ margin-top:auto; font-size:12px; color:#5b6475; font-weight:600; }
    @media(max-width:880px){ .tile-grid{ grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); } }

    .tag-editor{ display:flex; flex-direction:column; gap:14px; padding:18px; border:1px solid rgba(148,163,184,.28); border-radius:22px; background:rgba(255,255,255,.82); box-shadow:0 22px 48px -32px rgba(15,23,42,.38); backdrop-filter:blur(12px); }
    .tag-editor h4{ margin:0; font-size:14px; color:var(--brand-ink); display:flex; align-items:center; gap:6px; letter-spacing:.2px; }
    .tag-editor .tag-inputs{ display:flex; gap:10px; flex-wrap:wrap; }
    .tag-editor .tag-inputs input[type="text"]{ flex:1; min-width:160px; }
    .tag-editor .tag-inputs input[type="color"]{ width:56px; height:44px; padding:4px; border-radius:10px; border:1px solid var(--line); background:#fff; }
    .tag-editor .tag-inputs button{ padding:10px 16px; }
    .tag-list{ display:flex; flex-wrap:wrap; gap:8px; }
    .tag-chip{ display:inline-flex; align-items:center; gap:6px; padding:6px 12px; border-radius:999px; background:linear-gradient(140deg, rgba(255,255,255,.95), rgba(236,252,245,.88)); border:1px solid rgba(148,163,184,.26); font-size:12px; font-weight:600; color:#0f172a; box-shadow:0 18px 36px -26px rgba(15,23,42,.32); }
    .tag-chip .swatch{ width:14px; height:14px; border-radius:50%; border:2px solid #fff; box-shadow:0 0 0 1px rgba(15,23,42,.1); }
    .tag-chip button{ border:0; background:transparent; color:#64748b; padding:0; font-size:12px; cursor:pointer; }
    .tag-chip button:hover{ color:#ef4444; }

    .photo-preview{ display:grid; grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); gap:10px; margin-top:8px; }
    .photo-preview .preview-item,
    .detail-photo-grid .preview-item{ border:1px solid var(--line); border-radius:12px; padding:8px; background:#fff; display:flex; flex-direction:column; gap:6px; align-items:center; box-shadow:0 4px 12px rgba(15,23,42,.04); }
    .photo-preview .preview-item img,
    .detail-photo-grid .preview-item img{ width:100%; height:120px; object-fit:cover; border-radius:10px; }
    .photo-preview .preview-item figcaption,
    .detail-photo-grid .preview-item figcaption{ font-size:12px; color:#475569; }
    .detail-photo{ margin:10px 0; }
    .detail-photo img{ width:160px; height:160px; object-fit:cover; border-radius:16px; box-shadow:0 6px 18px rgba(15,23,42,.12); }
    .detail-photo-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:12px; margin:10px 0; }

    .memo-line{ display:flex; flex-direction:column; gap:6px; margin-top:10px; padding:14px 16px; border-radius:18px; border:1px solid rgba(148,163,184,.3); background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); font-size:13px; color:#1f2937; box-shadow:0 20px 48px -32px rgba(15,23,42,.35); }
    .memo-line.pinned{ border-color:#f97316; box-shadow:0 0 0 2px rgba(249,115,22,.18), 0 20px 48px -32px rgba(249,115,22,.25); }
    .memo-line .memo-head{ display:flex; justify-content:space-between; align-items:center; gap:8px; font-weight:700; }
    .memo-line .memo-head .due{ font-size:12px; color:#dc2626; }
    .memo-line .memo-body{ white-space:pre-wrap; word-break:break-word; color:#334155; }
    .memo-line .memo-pin{ display:inline-flex; align-items:center; gap:4px; font-size:12px; color:#f97316; }

    .result-card .tag-list{ margin-top:6px; }
    .muted-text{ color:var(--muted); font-size:12px; }

    .loading-box{ display:flex; gap:8px; align-items:center; padding:10px 12px; border:1px solid #bee3e8; background:#eef9fb; color:#0b3a3f; border-radius:10px; margin-top:8px; }
    .spinner{ width:16px; height:16px; border-radius:50%; border:2px solid #9bdfe3; border-top-color:transparent; animation:spin 1s linear infinite; }
    @keyframes spin{ to { transform: rotate(360deg); } }

    .detail { margin-top:12px; border:1px solid var(--line); border-radius:12px; padding:12px; background:#fff; }
    .imgGrid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(120px,1fr)); gap:10px; }
    .imgItem{ border:1px solid var(--line); border-radius:10px; padding:8px; background:#fff; }
    .imgItem img{ width:100%; height:100px; object-fit:cover; border-radius:8px; display:block; }

    /* === Ë´ãÊ±ÇÁÆ°ÁêÜ === */
    .billing-filters{ display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:12px; }
    .billing-actions{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; align-items:flex-end; }
    .billing-inline{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    .billing-inline label{ min-width:180px; }
    .billing-summary{ display:flex; flex-wrap:wrap; gap:18px; margin-top:16px; padding:16px 20px; border:1px solid rgba(148,163,184,.26); background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); border-radius:22px; font-size:13px; box-shadow:0 24px 52px -32px rgba(15,23,42,.38); }
    .billing-summary .label{ color:var(--muted); font-weight:600; }
    .billing-summary .value{ font-size:15px; font-weight:700; color:#0f172a; }
    .table-wrap{ margin-top:12px; border:1px solid var(--line); border-radius:12px; overflow:auto; }
    .table{ width:100%; border-collapse:collapse; min-width:720px; }
    .table th, .table td{ padding:10px 12px; border-bottom:1px solid var(--line); text-align:left; font-size:13px; }
    .table th{ background:#f3f4f6; color:#1f2937; font-weight:700; position:sticky; top:0; z-index:2; }
    .table tbody tr:hover{ background:#f8fbfc; }
    .status-pill{ display:inline-flex; align-items:center; gap:4px; padding:4px 10px; border-radius:999px; font-size:12px; font-weight:700; letter-spacing:.2px; }
    .status-pill.pending{ background:rgba(248,113,113,.14); color:#b91c1c; }
    .status-pill.paid{ background:rgba(34,197,94,.14); color:#166534; }
    .billing-empty{ margin-top:20px; padding:20px; border:1px solid rgba(148,163,184,.26); border-radius:20px; color:#0f3b40; background:linear-gradient(150deg, rgba(255,255,255,.92), rgba(236,252,245,.88)); text-align:center; font-weight:600; box-shadow:0 20px 46px -32px rgba(15,23,42,.35); }
    @media(max-width:720px){
      .billing-inline{ flex-direction:column; align-items:flex-start; }
      .billing-inline label{ width:100%; }
    }
    .daily-report{ display:flex; flex-direction:column; gap:16px; margin-top:18px; }
    .daily-report-head{ display:flex; justify-content:space-between; gap:18px; align-items:flex-start; flex-wrap:wrap; }
    .daily-report-lead{ margin:0; font-size:13px; color:#475569; line-height:1.6; }
    .daily-report-actions{ display:flex; gap:8px; flex-wrap:wrap; }
    .daily-range-info{ display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; font-size:13px; color:#1f2937; }
    .daily-range-menu{ border:1px solid rgba(148,163,184,.28); background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); border-radius:22px; padding:18px; box-shadow:0 26px 56px -34px rgba(15,23,42,.42); display:flex; flex-direction:column; gap:14px; max-width:440px; backdrop-filter:blur(14px); }
    .daily-range-menu[hidden]{ display:none; }
    .daily-range-menu .menu-group{ display:flex; flex-wrap:wrap; gap:8px; }
    .daily-range-menu .menu-group button{ background:#f1f5f9; border:1px solid transparent; border-radius:999px; padding:6px 14px; font-weight:600; color:#0f172a; }
    .daily-range-menu .menu-group button.active{ background:var(--brand); color:#08343a; box-shadow:0 0 0 2px rgba(110,202,209,.2); }
    .daily-range-menu .menu-group button:hover{ border-color:var(--brand); }
    .daily-range-menu .menu-custom-fields{ display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:10px; }
    .daily-range-menu .menu-custom-actions{ display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap; }
    .daily-chart-area{ position:relative; background:linear-gradient(160deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); border:1px solid rgba(148,163,184,.28); border-radius:24px; padding:18px; box-shadow:0 28px 60px -36px rgba(15,23,42,.45); }
    #dailySalesChart{ width:100%; height:240px; }
    .daily-chart-area svg path.area{ fill:rgba(110,202,209,.18); }
    .daily-chart-area svg path.line{ fill:none; stroke:#0f3b40; stroke-width:2; }
    .daily-chart-area svg circle.point{ fill:#0f3b40; stroke:#fff; stroke-width:2; }
    .daily-chart-area svg line.grid{ stroke:#e2e8f0; stroke-width:1; }
    .daily-chart-area svg text.tick{ font-size:11px; fill:#475569; }
    .daily-chart-empty{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:13px; color:#64748b; pointer-events:none; }
    .daily-sales-list{ display:flex; flex-direction:column; gap:16px; }
    .daily-tables{ display:grid; gap:16px; }
    .daily-table{ border:1px solid rgba(148,163,184,.28); border-radius:24px; background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.88)); padding:20px; display:flex; flex-direction:column; gap:14px; box-shadow:0 26px 56px -34px rgba(15,23,42,.42); }
    .daily-table h4{ margin:0; font-size:15px; color:#0f172a; display:flex; align-items:center; gap:8px; }
    .daily-table h4 .tag{ font-size:11px; font-weight:700; color:#475569; background:#f8fafc; border:1px solid #e2e8f0; padding:2px 8px; border-radius:999px; }
    .daily-table table{ width:100%; border-collapse:collapse; font-size:13px; }
    .daily-table thead th{ text-align:left; color:#475569; font-weight:700; padding:6px 8px; border-bottom:1px solid #e2e8f0; }
    .daily-table tbody tr{ cursor:pointer; transition:background-color .12s; }
    .daily-table tbody tr:hover{ background:#f8fafc; }
    .daily-table tbody tr.active{ background:#ecfeff; }
    .daily-table tbody td{ padding:8px; border-bottom:1px solid #eef2f6; color:#0f172a; }
    .daily-table tbody td.muted{ color:#64748b; font-size:12px; }
    .daily-table tbody tr:last-child td{ border-bottom:none; }
    .daily-detail{ display:flex; flex-direction:column; gap:14px; border:1px solid rgba(148,163,184,.28); border-radius:24px; padding:20px; background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); box-shadow:0 24px 52px -32px rgba(15,23,42,.4); }
/* Global loading overlay */
.global-loading{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(15,23,42,.28); z-index:120; }
.global-loading[hidden]{ display:none; }
.global-loading-inner{ display:flex; gap:12px; align-items:center; background:var(--glass-strong); padding:14px 18px; border-radius:14px; border:1px solid var(--glass-border); box-shadow:0 22px 48px -30px rgba(15,23,42,.5); backdrop-filter:blur(12px); }
.global-loading .spinner{ width:18px; height:18px; border-radius:50%; border:3px solid rgba(155,202,184,.9); border-top-color:transparent; animation:spin 1s linear infinite; }
.global-loading-text{ font-weight:700; color:var(--brand-ink); }
.global-loading button{ margin-left:8px; }

/* Feedback floating button */
.feedback-button{ position:fixed; left:18px; bottom:18px; z-index:110; padding:10px 12px; border-radius:14px; background:linear-gradient(135deg,#fff,#f8fffd); border:1px solid rgba(148,163,184,.2); box-shadow:0 18px 40px -28px rgba(15,23,42,.36); font-weight:700; cursor:pointer; }
.feedback-button:hover{ transform:translateY(-3px); box-shadow:0 30px 64px -32px rgba(15,23,42,.45); }
    .daily-detail-head h4{ margin:0; font-size:16px; color:#0f172a; }
    .daily-detail-body{ display:flex; flex-direction:column; gap:10px; }
    .daily-visit-card{ border:1px solid rgba(148,163,184,.28); border-radius:20px; padding:16px; background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); display:flex; flex-direction:column; gap:10px; box-shadow:0 20px 46px -32px rgba(15,23,42,.36); }
    .daily-visit-card .visit-head{ display:flex; justify-content:space-between; gap:10px; align-items:flex-start; }
    .daily-visit-card .visit-title{ font-weight:700; color:#0f172a; }
    .daily-visit-card .visit-amount{ font-weight:800; color:#0f172a; }
    .daily-visit-card .visit-meta{ display:flex; flex-wrap:wrap; gap:10px; font-size:12px; color:#475569; }
    .daily-visit-card .visit-items{ margin:0; padding-left:18px; font-size:12px; color:#1f2937; }
    .daily-visit-card .visit-items span{ margin-left:6px; color:#64748b; font-size:12px; }
    .daily-visit-card .visit-notes{ font-size:12px; color:#0f172a; background:#fff; border-radius:10px; padding:8px; border:1px dashed #d0e3e7; }
    .report-howto{ border:1px solid rgba(148,163,184,.26); border-radius:24px; background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); padding:20px; display:flex; flex-direction:column; gap:14px; box-shadow:0 26px 56px -34px rgba(15,23,42,.4); }
    .report-howto h4{ margin:0; font-size:16px; color:#0f172a; }
    .report-howto section{ display:flex; flex-direction:column; gap:6px; }
    .report-howto h5{ margin:0; font-size:14px; color:#0f172a; }
    .report-howto p{ margin:0; font-size:13px; color:#334155; line-height:1.7; }
    .directory-card{ display:flex; flex-direction:column; gap:24px; }
    .directory-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(320px, 1fr)); gap:24px; }
    .directory-section{ display:flex; flex-direction:column; gap:16px; padding:20px; border-radius:24px; border:1px solid var(--glass-border); background:var(--surface-strong); box-shadow:var(--shadow-soft); }
    .directory-head{ display:flex; justify-content:space-between; gap:16px; align-items:flex-start; flex-wrap:wrap; }
    .directory-tools{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
    .directory-tools input{ border-radius:14px; border:1px solid rgba(148,163,184,.3); padding:10px 14px; background:rgba(255,255,255,.9); min-width:200px; }
    .directory-count{ font-weight:700; color:var(--brand-ink); background:var(--accent-soft); padding:6px 12px; border-radius:999px; }
    .directory-list{ display:flex; flex-direction:column; gap:12px; max-height:420px; overflow:auto; }
    .directory-entry{ border:1px solid rgba(148,163,184,.24); border-radius:18px; padding:14px 16px; background:linear-gradient(150deg, rgba(255,255,255,.96), rgba(236,252,245,.86)); box-shadow:0 20px 42px -30px rgba(15,23,42,.35); display:flex; flex-direction:column; gap:6px; }
    .directory-entry .title{ font-weight:700; color:var(--brand-ink); }
    .directory-entry .meta{ font-size:12px; color:var(--muted); display:flex; flex-wrap:wrap; gap:8px; }
    .directory-entry .tags{ display:flex; flex-wrap:wrap; gap:6px; }
    .directory-entry .tag{ display:inline-flex; align-items:center; gap:6px; font-size:11px; font-weight:600; padding:4px 10px; border-radius:999px; background:var(--tag-color-soft, rgba(99,102,241,.18)); color:var(--brand-ink); border:1px solid rgba(148,163,184,.24); }
    .directory-entry .tag[data-color]{ border-color:var(--tag-color,#64748b); background:var(--tag-color-soft, rgba(255,255,255,.92)); }
    .directory-entry .tag[data-color]::before{ content:""; display:inline-block; width:10px; height:10px; border-radius:999px; background:var(--tag-color,#64748b); box-shadow:0 0 0 1px rgba(15,23,42,.18); margin-right:6px; flex-shrink:0; }
    .directory-entry .badge{ font-size:11px; font-weight:700; padding:4px 8px; border-radius:999px; background:rgba(99,230,203,.2); color:#0f172a; }
    .merch-card{ display:flex; flex-direction:column; gap:24px; }
    .merch-toolbar{ display:flex; align-items:center; gap:12px; margin-left:auto; }
    .merch-summary{ display:flex; gap:18px; flex-wrap:wrap; background:rgba(255,255,255,.85); border:1px solid rgba(148,163,184,.24); border-radius:18px; padding:14px 18px; box-shadow:0 16px 36px -28px rgba(15,23,42,.3); }
    .merch-summary .label{ font-size:11px; font-weight:700; color:var(--muted); text-transform:uppercase; letter-spacing:.3px; }
    .merch-summary .value{ font-size:18px; font-weight:800; color:var(--brand-ink); }
    .merch-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(320px, 1fr)); gap:24px; }
    .merch-section{ display:flex; flex-direction:column; gap:16px; padding:20px; border-radius:24px; border:1px solid var(--glass-border); background:var(--surface-strong); box-shadow:var(--shadow-soft); min-height:260px; }
    .merch-head{ display:flex; flex-direction:column; gap:6px; }
    .merch-list,.inventory-list,.purchase-list{ display:flex; flex-direction:column; gap:12px; max-height:320px; overflow:auto; }
    .merch-item,.inventory-item,.purchase-item{ border:1px solid rgba(148,163,184,.24); border-radius:18px; padding:14px 16px; background:linear-gradient(155deg, rgba(255,255,255,.96), rgba(236,252,245,.82)); box-shadow:0 18px 42px -30px rgba(15,23,42,.32); display:flex; flex-direction:column; gap:6px; }
    .merch-item .title,.inventory-item .title,.purchase-item .title{ font-weight:700; color:var(--brand-ink); font-size:14px; }
    .merch-item .meta,.inventory-item .meta,.purchase-item .meta{ font-size:12px; color:var(--muted); display:flex; flex-wrap:wrap; gap:8px; }
    .inventory-summary{ display:flex; gap:12px; flex-wrap:wrap; font-size:12px; color:var(--muted); }
    .inventory-status{ font-weight:700; font-size:12px; padding:4px 10px; border-radius:999px; display:inline-flex; align-items:center; gap:4px; }
    .inventory-status[data-status="OUT"]{ background:rgba(248,113,113,.22); color:#b91c1c; }
    .inventory-status[data-status="LOW"]{ background:rgba(251,191,36,.22); color:#b45309; }
    .inventory-status[data-status="MISSING"]{ background:rgba(148,163,184,.22); color:#334155; }
    .inventory-status[data-status="OK"]{ background:rgba(134,239,172,.22); color:#15803d; }
    .purchase-summary{ display:flex; gap:12px; flex-wrap:wrap; font-size:12px; color:var(--muted); }
    .purchase-item .status{ font-weight:700; font-size:12px; display:inline-flex; align-items:center; gap:4px; }
    .events-card{ display:flex; flex-direction:column; gap:20px; }
    .events-toolbar{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
    .events-toolbar input, .events-toolbar select{ border-radius:14px; border:1px solid rgba(148,163,184,.3); padding:10px 14px; background:rgba(255,255,255,.92); }
    .events-summary{ display:flex; gap:16px; flex-wrap:wrap; background:rgba(255,255,255,.85); border:1px solid rgba(148,163,184,.24); border-radius:18px; padding:14px 18px; box-shadow:0 18px 40px -28px rgba(15,23,42,.28); }
    .events-summary .label{ font-size:11px; font-weight:700; color:var(--muted); text-transform:uppercase; }
    .events-summary .value{ font-size:17px; font-weight:800; color:var(--brand-ink); }
    .events-list{ display:flex; flex-direction:column; gap:12px; max-height:420px; overflow:auto; }
    .event-card{ border:1px solid rgba(148,163,184,.24); border-radius:18px; padding:16px; background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(219,234,254,.82)); box-shadow:0 18px 44px -30px rgba(15,23,42,.32); display:flex; flex-direction:column; gap:8px; }
    .event-card .title{ font-weight:700; color:var(--brand-ink); }
    .event-card .time{ font-size:13px; font-weight:600; color:var(--muted); }
    .event-card .chips{ display:flex; gap:8px; flex-wrap:wrap; font-size:12px; color:var(--muted); }
    .event-card .chip{ padding:4px 8px; border-radius:999px; background:rgba(99,102,241,.15); color:var(--brand-ink); font-weight:600; }
    .events-empty{ text-align:center; color:var(--muted); font-weight:600; padding:28px 0; }
    .accounting-breakdown{ display:flex; flex-direction:column; gap:18px; padding:24px; border-radius:28px; border:1px solid var(--glass-border); background:var(--surface-strong); box-shadow:var(--shadow-soft); }
    .accounting-controls{ display:flex; align-items:center; flex-wrap:wrap; gap:12px; }
    .accounting-controls label{ display:flex; flex-direction:column; gap:4px; font-size:12px; font-weight:600; color:var(--muted); }
    .accounting-controls input{ border-radius:12px; border:1px solid rgba(148,163,184,.3); padding:8px 12px; background:rgba(255,255,255,.92); min-width:140px; }
    .accounting-summary{ display:flex; flex-wrap:wrap; gap:18px; }
    .accounting-summary .label{ font-size:12px; color:var(--muted); font-weight:700; }
    .accounting-summary .value{ font-size:20px; font-weight:800; color:var(--brand-ink); }
    .accounting-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr)); gap:18px; }
    .accounting-panel{ display:flex; flex-direction:column; gap:12px; background:rgba(255,255,255,.85); border:1px solid rgba(148,163,184,.26); border-radius:20px; padding:18px; box-shadow:0 16px 36px -30px rgba(15,23,42,.28); }
    .accounting-panel h4{ margin:0; font-size:15px; font-weight:800; color:var(--brand-ink); }
    .accounting-pill-list{ list-style:none; margin:0; padding:0; display:flex; flex-wrap:wrap; gap:10px; }
    .accounting-pill-list li{ background:var(--accent-soft); color:var(--brand-ink); font-weight:700; padding:6px 12px; border-radius:999px; font-size:12px; }
    .accounting-table-wrapper{ max-height:260px; overflow:auto; border-radius:12px; border:1px solid rgba(148,163,184,.2); background:rgba(255,255,255,.95); }
    .accounting-table-wrapper table{ width:100%; border-collapse:collapse; font-size:12px; }
    .accounting-table-wrapper th{ background:rgba(226,232,240,.55); color:#0f172a; font-weight:700; position:sticky; top:0; }
    .accounting-table-wrapper th, .accounting-table-wrapper td{ padding:8px 10px; text-align:left; border-bottom:1px solid rgba(148,163,184,.2); }
    .accounting-table-wrapper tr:last-child td{ border-bottom:none; }
    .accounting-empty{ text-align:center; color:var(--muted); font-weight:600; padding:22px 0; }
    .store-form-note{ font-size:13px; color:#475569; margin-top:-6px; }
    .store-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; }
    .store-card{ border:1px solid rgba(148,163,184,.28); border-radius:24px; padding:20px; background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); display:flex; flex-direction:column; gap:12px; box-shadow:0 24px 52px -34px rgba(15,23,42,.42); transition:border-color .18s ease, box-shadow .2s ease, transform .18s ease; }
    .store-card:hover{ transform:translateY(-3px); box-shadow:0 32px 70px -34px rgba(99,102,241,.4); }
    .store-card.active{ border-color:rgba(99,102,241,.4); box-shadow:0 0 0 3px rgba(99,102,241,.24), 0 32px 70px -34px rgba(99,102,241,.45); }
    .store-card .title{ font-weight:800; color:#0f172a; display:flex; align-items:center; gap:8px; }
    .store-card .badge{ display:inline-flex; align-items:center; gap:4px; padding:4px 10px; border-radius:999px; background:#f8fafc; border:1px solid #e2e8f0; font-size:11px; font-weight:700; color:#475569; }
    .store-card .meta{ font-size:12px; color:#64748b; display:flex; gap:10px; flex-wrap:wrap; }
    .store-card .actions{ margin-top:auto; display:flex; gap:8px; flex-wrap:wrap; }
    .store-card .actions button{ flex:1; min-width:120px; }
    .settings-shortcuts{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
    .settings-shortcuts button{ background:rgba(255,255,255,.86); border:1px solid rgba(148,163,184,.26); border-radius:999px; padding:10px 18px; font-weight:600; color:#0f172a; box-shadow:0 18px 40px -28px rgba(15,23,42,.35); transition:transform .18s ease, border-color .18s ease, box-shadow .2s ease; }
    .settings-shortcuts button:hover{ transform:translateY(-2px); border-color:rgba(99,102,241,.35); box-shadow:0 26px 60px -30px rgba(99,102,241,.38); }
    .settings-shortcuts button.active{ background:linear-gradient(135deg, #63d1c5, #6366f1); color:#fff; border-color:transparent; box-shadow:0 26px 56px -30px rgba(99,102,241,.45); }
    .settings-pane{ display:none; margin-top:18px; }
    .settings-pane.active{ display:block; }
    .pet-journal-card{ margin-top:18px; }
    .journal-actions{ display:flex; gap:8px; }
    .journal-form .grid{ margin-bottom:12px; }
    .journal-list{ display:flex; flex-direction:column; gap:12px; margin-top:12px; }
    .journal-entry{ border:1px solid rgba(148,163,184,.28); border-radius:24px; padding:18px; background:linear-gradient(150deg, rgba(255,255,255,.95), rgba(236,252,245,.9)); box-shadow:0 24px 52px -34px rgba(15,23,42,.4); }
    .journal-entry header{ display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
    .journal-entry .title{ font-weight:700; letter-spacing:.2px; }
    .journal-entry .meta{ font-size:12px; color:#64748b; }
    .journal-entry .body{ margin-top:8px; display:flex; gap:12px; align-items:flex-start; }
    .journal-entry .body img{ width:120px; height:120px; object-fit:cover; border-radius:10px; }
    .journal-entry .tags{ margin-top:8px; display:flex; gap:6px; flex-wrap:wrap; }
    .journal-photo{ flex-shrink:0; }
    .journal-inline{ border-bottom:1px dashed var(--line); padding:6px 0; display:flex; flex-direction:column; gap:4px; font-size:13px; }
    .journal-inline:last-child{ border-bottom:0; }
    .journal-inline-head{ font-weight:600; color:#0f172a; }
    .journal-inline-title{ font-weight:600; }
    .journal-inline-body{ color:#475569; }
    @media(max-width:720px){
      .daily-range-info{ align-items:flex-start; }
      .daily-report-head{ flex-direction:column; }
      .daily-report-actions{ justify-content:flex-start; }
    }
